<!DOCTYPE html>
<!-- Created with https://studio.penguinmod.com/PenguinMod-Packager/ -->
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- We only include this to explicitly loosen the CSP of various packager environments. It does not provide any security. -->
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: blob:">
  <title>school sci proj</title>
  <style>
    body {
      color: #ffffff;
      font-family: sans-serif;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    :root, body.is-fullscreen {
      background-color: #000000;
    }
    [hidden] {
      display: none !important;
    }
    h1 {
      font-weight: normal;
    }
    a {
      color: inherit;
      text-decoration: underline;
      cursor: pointer;
    }

    #app, #loading, #error, #launch {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      cursor: default;
      user-select: none;
      -webkit-user-select: none;
      background-color: #000000;
    }
    #launch {
      background-color: rgba(0, 0, 0, 0.7);
      cursor: pointer;
    }
    .green-flag {
      width: 80px;
      height: 80px;
      padding: 16px;
      border-radius: 100%;
      background: rgba(255, 255, 255, 0.75);
      border: 3px solid hsla(0, 100%, 100%, 1);
      display: flex;
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
    }
    #loading {
      
    }
    .progress-bar-outer {
      border: 1px solid currentColor;
      height: 10px;
      width: 200px;
      max-width: 200px;
    }
    .progress-bar-inner {
      height: 100%;
      width: 0;
      background-color: currentColor;
    }
    .loading-text, noscript {
      font-weight: normal;
      font-size: 36px;
      margin: 0 0 16px;
    }
    .loading-image {
      margin: 0 0 16px;
    }
    #error-message, #error-stack {
      font-family: monospace;
      max-width: 600px;
      white-space: pre-wrap;
      user-select: text;
      -webkit-user-select: text;
    }
    #error-stack {
      text-align: left;
      max-height: 200px;
      overflow: auto;
    }
    .control-button {
      width: 2rem;
      height: 2rem;
      padding: 0.375rem;
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
      user-select: none;
      -webkit-user-select: none;
      cursor: pointer;
      border: 0;
      border-radius: 4px;
    }
    .control-button:hover {
      background: #00c3ff26;
    }
    .control-button.active {
      background: #00c3ff59;
    }
    .fullscreen-button {
      background: white !important;
    }
    .standalone-fullscreen-button {
      position: absolute;
      top: 0;
      right: 0;
      background-color: rgba(0, 0, 0, 0.5);
      border-radius: 0 0 0 4px;
      padding: 4px;
      cursor: pointer;
    }
    .sc-canvas {
      cursor: auto;
    }
    .sc-monitor-root[data-opcode^="data_"] .sc-monitor-value-color {
      background-color: #ff8c1a;
    }
    .sc-monitor-row-value-outer {
      background-color: #fc662c;
    }
    .sc-monitor-row-value-editing .sc-monitor-row-value-outer {
      background-color: #e25b27;
    }
    
  </style>
  <meta name="theme-color" content="#000000">
  
</head>
<body>
  <div id="app"></div>

  

  <div id="loading" class="screen">
    <noscript>Enable JavaScript</noscript>
    <h1 class="loading-text">loading</h1>
    
    <div class="progress-bar-outer"><div class="progress-bar-inner" id="loading-inner"></div></div>
  </div>

  <div id="error" class="screen" hidden>
    <h1>Error</h1>
    <details>
      <summary id="error-message"></summary>
      <p id="error-stack"></p>
    </details>
  </div>

  <script src="script.js"></script>
  <script>
    const appElement = document.getElementById('app');
    const launchScreen = document.getElementById('launch');
    const loadingScreen = document.getElementById('loading');
    const loadingInner = document.getElementById('loading-inner');
    const errorScreen = document.getElementById('error');
    const errorScreenMessage = document.getElementById('error-message');
    const errorScreenStack = document.getElementById('error-stack');

    const handleError = (error) => {
      console.error(error);
      if (!errorScreen.hidden) return;
      errorScreen.hidden = false;
      errorScreenMessage.textContent = '' + error;
      let debug = error && error.stack || 'no stack';
      debug += '\nUser agent: ' + navigator.userAgent;
      errorScreenStack.textContent = debug;
    };
    const setProgress = (progress) => {
      if (loadingInner) loadingInner.style.width = progress * 100 + '%';
    };
    const interpolate = (a, b, t) => a + t * (b - a);

    try {
      setProgress(0.1);

      const scaffolding = new Scaffolding.Scaffolding();
      scaffolding.width = 1280;
      scaffolding.height = 720;
      scaffolding.resizeMode = "preserve-ratio";
      scaffolding.editableLists = false;
      scaffolding.usePackagedRuntime = true;
      scaffolding.setup();
      scaffolding.appendTo(appElement);

      const vm = scaffolding.vm;
      window.scaffolding = scaffolding;
      window.vm = scaffolding.vm;
      window.Scratch = {
        vm,
        renderer: vm.renderer,
        audioEngine: vm.runtime.audioEngine,
        bitmapAdapter: vm.runtime.v2BitmapAdapter,
        videoProvider: vm.runtime.ioDevices.video.provider
      };

      vm.runtime.isPackagedProject = true;
      scaffolding.setUsername("player####".replace(/#/g, () => Math.floor(Math.random() * 10)));
      scaffolding.setAccentColor("#00c3ff");

      try {
        scaffolding.addCloudProvider(new Scaffolding.Cloud.WebSocketProvider(["wss://clouddata.turbowarp.org","wss://clouddata.turbowarp.xyz"], "p4-@school sci proj (1).pmp"));
      } catch (error) {
        console.error(error);
      }

      const greenFlagButton = document.createElement('img');
      greenFlagButton.src = 'data:image/svg+xml,' + encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.63 17.5"><path d="M.75 2a6.44 6.44 0 017.69 0h0a6.44 6.44 0 007.69 0v10.4a6.44 6.44 0 01-7.69 0h0a6.44 6.44 0 00-7.69 0" fill="#007AF4" stroke="#003080" stroke-linecap="round" stroke-linejoin="round"/><path stroke-width="1.5" fill="#007AF4" stroke="#003080" stroke-linecap="round" stroke-linejoin="round" d="M.75 16.75v-16"/></svg>');
      greenFlagButton.className = 'control-button green-flag-button';
      greenFlagButton.draggable = false;
      greenFlagButton.addEventListener('click', () => {
        scaffolding.greenFlag();
      });
      scaffolding.addEventListener('PROJECT_RUN_START', () => {
        greenFlagButton.classList.add('active');
      });
      scaffolding.addEventListener('PROJECT_RUN_STOP', () => {
        greenFlagButton.classList.remove('active');
      });
      scaffolding.addControlButton({
        element: greenFlagButton,
        where: 'top-left'
      });

      const pauseButton = document.createElement('img');
      pauseButton.className = 'control-button pause-button';
      pauseButton.draggable = false;
      let isPaused = false;
      pauseButton.addEventListener('click', () => {
        vm.setPaused(!isPaused);
      });
      const updatePause = (_isPaused) => {
        isPaused = _isPaused;
        if (isPaused) {
          pauseButton.src = 'data:image/svg+xml,' + encodeURIComponent('<svg width="16" height="16" viewBox="0 0 4.2333332 4.2333335" xmlns="http://www.w3.org/2000/svg"><path d="m3.95163484 2.02835365-1.66643921.9621191-1.66643913.96211911V.10411543l1.66643922.9621191z" fill="#ffae00"/></svg>');
        } else {
          pauseButton.src = 'data:image/svg+xml,' + encodeURIComponent('<svg width="16" height="16" viewBox="0 0 4.2333332 4.2333335" xmlns="http://www.w3.org/2000/svg"><g fill="#ffae00"><path d="M.389.19239126h1.2631972v3.8485508H.389zM2.5810001.19239126h1.2631972v3.8485508H2.5810001z"/></g></svg>');
        }
      }
      vm.on('P4_PAUSE', updatePause);
      updatePause();
      scaffolding.addControlButton({
        element: pauseButton,
        where: 'top-left'
      });

      const stopAllButton = document.createElement('img');
      stopAllButton.src = 'data:image/svg+xml,' + encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path fill="#ec5959" stroke="#b84848" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M4.3.5h5.4l3.8 3.8v5.4l-3.8 3.8H4.3L.5 9.7V4.3z"/></svg>');
      stopAllButton.className = 'control-button stop-all-button';
      stopAllButton.draggable = false;
      stopAllButton.addEventListener('click', () => {
        scaffolding.stopAll();
      });
      scaffolding.addControlButton({
        element: stopAllButton,
        where: 'top-left'
      });

      if (document.fullscreenEnabled || document.webkitFullscreenEnabled) {
        let isFullScreen = !!(document.fullscreenElement || document.webkitFullscreenElement);
        const fullscreenButton = document.createElement('img');
        fullscreenButton.draggable = false;
        fullscreenButton.className = 'control-button fullscreen-button';
        fullscreenButton.addEventListener('click', () => {
          if (isFullScreen) {
            if (document.exitFullscreen) {
              document.exitFullscreen();
            } else if (document.webkitExitFullscreen) {
              document.webkitExitFullscreen();
            }
          } else {
            if (document.body.requestFullscreen) {
              document.body.requestFullscreen();
            } else if (document.body.webkitRequestFullscreen) {
              document.body.webkitRequestFullscreen();
            }
          }
        });
        const otherControlsExist = true;
        const fillColor = otherControlsExist ? '#575E75' : '#ffffff';
        const updateFullScreen = () => {
          isFullScreen = !!(document.fullscreenElement || document.webkitFullscreenElement);
          document.body.classList.toggle('is-fullscreen', isFullScreen);
          if (isFullScreen) {
            fullscreenButton.src = 'data:image/svg+xml,' + encodeURIComponent('<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="' + fillColor + '" fill-rule="evenodd"><path d="M12.662 3.65l.89.891 3.133-2.374a.815.815 0 011.15.165.819.819 0 010 .986L15.467 6.46l.867.871c.25.25.072.664-.269.664L12.388 8A.397.397 0 0112 7.611V3.92c0-.341.418-.514.662-.27M7.338 16.35l-.89-.89-3.133 2.374a.817.817 0 01-1.15-.166.819.819 0 010-.985l2.37-3.143-.87-.871a.387.387 0 01.27-.664L7.612 12a.397.397 0 01.388.389v3.692a.387.387 0 01-.662.27M7.338 3.65l-.89.891-3.133-2.374a.815.815 0 00-1.15.165.819.819 0 000 .986l2.37 3.142-.87.871a.387.387 0 00.27.664L7.612 8A.397.397 0 008 7.611V3.92a.387.387 0 00-.662-.27M12.662 16.35l.89-.89 3.133 2.374a.817.817 0 001.15-.166.819.819 0 000-.985l-2.368-3.143.867-.871a.387.387 0 00-.269-.664L12.388 12a.397.397 0 00-.388.389v3.692c0 .342.418.514.662.27"/></g></svg>');
          } else {
            fullscreenButton.src = 'data:image/svg+xml,' + encodeURIComponent('<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="' + fillColor + '" fill-rule="evenodd"><path d="M16.338 7.35l-.89-.891-3.133 2.374a.815.815 0 01-1.15-.165.819.819 0 010-.986l2.368-3.142-.867-.871a.387.387 0 01.269-.664L16.612 3a.397.397 0 01.388.389V7.08a.387.387 0 01-.662.27M3.662 12.65l.89.89 3.133-2.374a.817.817 0 011.15.166.819.819 0 010 .985l-2.37 3.143.87.871c.248.25.071.664-.27.664L3.388 17A.397.397 0 013 16.611V12.92c0-.342.418-.514.662-.27M3.662 7.35l.89-.891 3.133 2.374a.815.815 0 001.15-.165.819.819 0 000-.986L6.465 4.54l.87-.871a.387.387 0 00-.27-.664L3.388 3A.397.397 0 003 3.389V7.08c0 .341.418.514.662.27M16.338 12.65l-.89.89-3.133-2.374a.817.817 0 00-1.15.166.819.819 0 000 .985l2.368 3.143-.867.871a.387.387 0 00.269.664l3.677.005a.397.397 0 00.388-.389V12.92a.387.387 0 00-.662-.27"/></g></svg>');
          }
        };
        updateFullScreen();
        document.addEventListener('fullscreenchange', updateFullScreen);
        document.addEventListener('webkitfullscreenchange', updateFullScreen);
        if (otherControlsExist) {
          fullscreenButton.className = 'control-button fullscreen-button';
          scaffolding.addControlButton({
            element: fullscreenButton,
            where: 'top-right'
          });
        } else {
          fullscreenButton.className = 'standalone-fullscreen-button';
          document.body.appendChild(fullscreenButton);
        }
      }

      vm.setTurboMode(true);
      if (vm.setInterpolation) vm.setInterpolation(true);
      if (vm.setFramerate) vm.setFramerate(30);
      if (vm.renderer.setUseHighQualityRender) vm.renderer.setUseHighQualityRender(true);
      if (vm.setRuntimeOptions) vm.setRuntimeOptions({
        fencing: true,
        miscLimits: false,
        maxClones: 9999999999,
        dangerousOptimizations: false
      });
      if (vm.setCompilerOptions) vm.setCompilerOptions({
        enabled: true,
        warpTimer: false
      });
      if (vm.renderer.setMaxTextureDimension) vm.renderer.setMaxTextureDimension(2048);

      if (typeof ScaffoldingAddons !== 'undefined') {
        ScaffoldingAddons.run(scaffolding, {"gamepad":false,"pointerlock":false,"specialCloudBehaviors":false,"unsafeCloudBehaviors":false,"pause":true});
      }

      scaffolding.setExtensionSecurityManager({
        getSandboxMode: () => 'unsandboxed',
        canLoadExtensionFromProject: () => true
      });
      for (const extension of ["data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Particle%20Engine%0A%2F%2F%20ID%3A%20SPpartEngine%0A%2F%2F%20Description%3A%20Create%20powerful%20Particle%20Engines%20without%20Clones%0A%2F%2F%20By%3A%20SharkPool%0A%2F%2F%20Licence%3A%20MIT%0A%0A%2F%2F%20Version%20V.2.0.21%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20throw%20new%20Error(%22Particle%20Engine%20must%20run%20unsandboxed!%22)%3B%0A%0A%20%20const%20menuIconURI%20%3D%0A%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5Mi4zNjciIGhlaWdodD0iOTIuMzY3IiB2aWV3Qm94PSIwIDAgOTIuMzY3IDkyLjM2NyI%2BPGRlZnM%2BPGxpbmVhckdyYWRpZW50IHgxPSIyMTEuNDYxIiB5MT0iMTUxLjQ2MSIgeDI9IjI2OC41MzkiIHkyPSIyMDguNTM5IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgaWQ9ImEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzAwOTBmZiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzAwNzJmZiIvPjwvbGluZWFyR3JhZGllbnQ%2BPC9kZWZzPjxwYXRoIGQ9Ik0wIDQ2LjE4M0MwIDIwLjY3NyAyMC42NzcgMCA0Ni4xODMgMHM0Ni4xODMgMjAuNjc3IDQ2LjE4MyA0Ni4xODMtMjAuNjc3IDQ2LjE4My00Ni4xODMgNDYuMTgzUzAgNzEuNjg5IDAgNDYuMTgzIiBmaWxsPSIjMTk1M2ZmIi8%2BPHBhdGggZD0iTTIxMS40NiAyMDguNTRjLTE1Ljc2MS0xNS43NjItMTUuNzYxLTQxLjMxNyAwLTU3LjA4IDE1Ljc2My0xNS43NjEgNDEuMzE4LTE1Ljc2MSA1Ny4wOCAwIDE1Ljc2MSAxNS43NjMgMTUuNzYxIDQxLjMxOCAwIDU3LjA4LTE1Ljc2MiAxNS43NjEtNDEuMzE3IDE1Ljc2MS01Ny4wOCAwIiBmaWxsPSJ1cmwoI2EpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTkzLjgxNyAtMTMzLjgxNykiLz48cGF0aCBkPSJNMjguODQ4IDU1LjYyOWE1Ljc3IDUuNzcgMCAwIDAgNC4xNDQtNC4wMTNsMS4yOS00LjUwNWMuNjEyLTIuMTMgMy42NDctMi4wOCA0LjE4Ny4wNjhsMS4xNDcgNC41NDRhNS43NyA1Ljc3IDAgMCAwIDQuMDEgNC4xNDVsNC41MDQgMS4yOWMyLjEzLjYxMiAyLjA4MSAzLjY0Ny0uMDY3IDQuMTlsLTQuNTQ1IDEuMTQ0YTUuNzcgNS43NyAwIDAgMC00LjE0MSA0LjAxbC0xLjI5MyA0LjUwNGMtLjYxIDIuMTMtMy42NDQgMi4wODEtNC4xODctLjA2N2wtMS4xNDQtNC41NDVhNS43NyA1Ljc3IDAgMCAwLTQuMDEzLTQuMTQxbC00LjUwNS0xLjI5Yy0yLjEzLS42MTItMi4wOC0zLjY0Ny4wNjgtNC4xOXptMjkuNjk4LTE2LjMyM2E0LjAyIDQuMDIgMCAwIDAgMi45MDMtMi43OGwuOTE2LTMuMTMzYy40MzUtMS40ODEgMi41NS0xLjQzNSAyLjkxNy4wNjNsLjc4MSAzLjE3MWE0LjAyIDQuMDIgMCAwIDAgMi43NzcgMi45MDNsMy4xMzQuOTE2YzEuNDgyLjQzNSAxLjQzNiAyLjU1LS4wNjMgMi45MmwtMy4xNy43NzhhNC4wMiA0LjAyIDAgMCAwLTIuOTAyIDIuNzc4bC0uOTE4IDMuMTMzYy0uNDMzIDEuNDgyLTIuNTQ3IDEuNDM2LTIuOTE3LS4wNjNsLS43NzktMy4xN2E0LjAyIDQuMDIgMCAwIDAtMi43OC0yLjkwMmwtMy4xMzMtLjkxNmMtMS40ODItLjQzNS0xLjQzNi0yLjU0OS4wNjMtMi45MTl6bS0yMC4xNzEtOC4xNjhhNC4xOCA0LjE4IDAgMCAwLTIuODkzLTMuMDE3bC0zLjI1OS0uOTVjLTEuNTQtLjQ1MS0xLjQ5NS0yLjY1LjA2NC0zLjAzM2wzLjI5Ni0uODE1YTQuMTggNC4xOCAwIDAgMCAzLjAxNi0yLjg5bC45NS0zLjI1OWMuNDUxLTEuNTQgMi42NS0xLjQ5NCAzLjAzNi4wNjRsLjgxMiAzLjI5NmE0LjE4IDQuMTggMCAwIDAgMi44OSAzLjAxNGwzLjI2Ljk1M2MxLjU0LjQ0OCAxLjQ5NCAyLjY0Ni0uMDY0IDMuMDMybC0zLjI5Ny44MTNhNC4xOCA0LjE4IDAgMCAwLTMuMDE0IDIuODkybC0uOTUgMy4yNmMtLjQ1IDEuNTQtMi42NDkgMS40OTQtMy4wMzUtLjA2NHoiIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg%3D%3D%22%3B%0A%0A%20%20const%20shapes%20%3D%20%7B%0A%20%20%20%20sqr%3A%20%221MCIgaGVpZ2h0PSI1MCIgdmlld0JveD0iMCAwIDUwIDUwIj48cGF0aCBkPSJNMCA1MC41VjBoNTB2NTAuNXoiIGZpbGw9IiNmZmYiLz48L3N2Zz4%3D%22%2C%0A%20%20%20%20circ%3A%20%221MCIgaGVpZ2h0PSI1MCIgdmlld0JveD0iMCAwIDQ5LjUgNDkuNSI%2BPHBhdGggZD0iTTAgMjQuNTVDMCAxMC45OTIgMTAuOTkyIDAgMjQuNTUgMFM0OS4xIDEwLjk5MiA0OS4xIDI0LjU1IDM4LjEwOCA0OS4xIDI0LjU1IDQ5LjEgMCAzOC4xMDggMCAyNC41NSIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg%3D%3D%22%2C%0A%20%20%20%20tri%3A%20%220OS4wOTgiIGhlaWdodD0iNDIuNTIiIHZpZXdCb3g9IjAgMCA0OS4wOTggNDIuNTIiPjxwYXRoIGQ9Ik0wIDQyLjUyIDI0LjU1IDAgNDkuMSA0Mi41MnoiIGZpbGw9IiNmZmYiLz48L3N2Zz4%3D%22%2C%0A%20%20%20%20star%3A%20%221MCIgaGVpZ2h0PSI1MCIgdmlld0JveD0iMCAwIDEuNSAxLjUiPjxwYXRoIGQ9Ik0xLjM3NS42MTNBLjA2LjA2IDAgMCAwIDEuMzIzLjU3TC45NjcuNTIxLjgwNS4yMmEuMDYzLjA2MyAwIDAgMC0uMTEgMEwuNTM2LjUyMS4xOC41N2EuMDYuMDYgMCAwIDAtLjA1MS4wNDMuMDYuMDYgMCAwIDAgLjAxOC4wNjNsLjI1Ni4yMzMtLjA2My4zMjhhLjA2My4wNjMgMCAwIDAgLjA5MS4wN2wuMzE5LS4xNTguMzIuMTU4YS4xLjEgMCAwIDAgLjAyOC4wMDYuMDYzLjA2MyAwIDAgMCAuMDYzLS4wNzRMMS4wOTguOTExbC4yNTYtLjIzM2EuMDYuMDYgMCAwIDAgLjAyMS0uMDY1IiBmaWxsPSIjZmZmIi8%2BPC9zdmc%2B%22%0A%20%20%7D%3B%0A%20%20for%20(const%20key%20in%20shapes)%20shapes%5Bkey%5D%20%3D%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI%22%20%2B%20shapes%5Bkey%5D%3B%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%20%20const%20Cast%20%3D%20Scratch.Cast%3B%0A%20%20const%20runtime%20%3D%20vm.runtime%3B%0A%20%20const%20render%20%3D%20vm.renderer%3B%0A%20%20const%20%7B%20Drawable%2C%20Skin%2C%20twgl%20%7D%20%3D%20render.exports%3B%0A%20%20const%20engineTag%20%3D%20Symbol(%22particleEngine%22)%3B%0A%0A%20%20const%20optionList%20%3D%20%7B%0A%20%20%20%20maxP%3A%20%7B%20val%3A%2050%2C%20inf%3A%200%20%7D%2C%20emission%3A%20%7B%20val%3A%201%2C%20inf%3A%200%20%7D%2C%0A%20%20%20%20time%3A%20%7B%20val%3A%200.4%2C%20inf%3A%200.1%20%7D%2C%20speed%3A%20%7B%20val%3A%2015%2C%20inf%3A%200%20%7D%2C%0A%20%20%20%20xPos%3A%20%7B%20val%3A%2010%2C%20inf%3A%200%20%7D%2C%20yPos%3A%20%7B%20val%3A%200%2C%20inf%3A%200%20%7D%2C%0A%20%20%20%20gravX%3A%20%7B%20val%3A%200%2C%20inf%3A%200%20%7D%2C%20gravY%3A%20%7B%20val%3A%20-1.5%2C%20inf%3A%200%20%7D%2C%0A%20%20%20%20sDir%3A%20%7B%20val%3A%200%2C%20inf%3A%2025%20%7D%2C%20eDir%3A%20%7B%20val%3A%200%2C%20inf%3A%200%20%7D%2C%0A%20%20%20%20sSpin%3A%20%7B%20val%3A%200%2C%20inf%3A%200%20%7D%2C%20eSpin%3A%20%7B%20val%3A%2045%2C%20inf%3A%20135%20%7D%2C%0A%20%20%20%20sSize%3A%20%7B%20val%3A%2025%2C%20inf%3A%2010%20%7D%2C%20eSize%3A%20%7B%20val%3A%2015%2C%20inf%3A%205%20%7D%2C%0A%20%20%20%20sStreX%3A%20%7B%20val%3A%20100%2C%20inf%3A%200%20%7D%2C%20eStreX%3A%20%7B%20val%3A%20100%2C%20inf%3A%200%20%7D%2C%0A%20%20%20%20sStreY%3A%20%7B%20val%3A%20100%2C%20inf%3A%200%20%7D%2C%20eStreY%3A%20%7B%20val%3A%20100%2C%20inf%3A%200%20%7D%2C%0A%20%20%20%20accelRad%3A%20%7B%20val%3A%200%2C%20inf%3A%200%20%7D%2C%20accelTan%3A%20%7B%20val%3A%200%2C%20inf%3A%200%20%7D%2C%0A%20%20%20%20sinW%3A%20%7B%20val%3A%200%2C%20inf%3A%200%20%7D%2C%20cosW%3A%20%7B%20val%3A%200%2C%20inf%3A%200%20%7D%2C%0A%20%20%20%20sinS%3A%20%7B%20val%3A%201%2C%20inf%3A%200%20%7D%2C%20cosS%3A%20%7B%20val%3A%201%2C%20inf%3A%200%20%7D%2C%0A%20%20%20%20fIn%3A%20%7B%20val%3A%200%2C%20inf%3A%205%20%7D%2C%20fOut%3A%20%7B%20val%3A%2015%2C%20inf%3A%202%20%7D%2C%0A%20%20%20%20sCol%3A%20%7B%20val%3A%20%22%23ff00ff%22%2C%20inf%3A%200%20%7D%2C%20eCol%3A%20%7B%20val%3A%20%22%230000ff%22%2C%20inf%3A%200%20%7D%0A%20%20%7D%3B%0A%20%20let%20tabBlured%20%3D%20false%2C%20deltaTime%20%3D%200%2C%20prevTime%20%3D%200%3B%0A%0A%20%20const%20allEngines%20%3D%20new%20Map()%3B%0A%0A%20%20%2F%2F%20Custom%20Skin%0A%20%20class%20particleSkin%20extends%20Skin%20%7B%0A%20%20%20%20constructor(id%2C%20renderer)%20%7B%0A%20%20%20%20%20%20super(id%2C%20renderer)%3B%0A%20%20%20%20%20%20const%20gl%20%3D%20renderer.gl%3B%0A%20%20%20%20%20%20this._texture%20%3D%20twgl.createTexture(gl%2C%20%7B%0A%20%20%20%20%20%20%20%20min%3A%20gl.NEAREST%2C%20mag%3A%20gl.NEAREST%2C%20wrap%3A%20gl.CLAMP_TO_EDGE%2C%0A%20%20%20%20%20%20%20%20src%3A%20%5B0%2C%200%2C%200%2C%200%5D%20%2F%2F%20Dummy%20pixel%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20this._rotationCenter%20%3D%20%5B240%2C%20180%5D%3B%0A%20%20%20%20%20%20this._size%20%3D%20%5B480%2C%20360%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20dispose()%20%7B%0A%20%20%20%20%20%20if%20(this._texture)%20%7B%0A%20%20%20%20%20%20%20%20this._renderer.gl.deleteTexture(this._texture)%3B%0A%20%20%20%20%20%20%20%20this._texture%20%3D%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20super.dispose()%3B%0A%20%20%20%20%7D%0A%20%20%20%20set%20size(value)%20%7B%0A%20%20%20%20%20%20this._size%20%3D%20value%3B%0A%20%20%20%20%20%20this._rotationCenter%20%3D%20%5Bvalue%5B0%5D%20%2F%202%2C%20value%5B1%5D%20%2F%202%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20get%20size()%20%7B%0A%20%20%20%20%20%20return%20this._size%3B%0A%20%20%20%20%7D%0A%20%20%20%20getTexture(scale)%20%7B%0A%20%20%20%20%20%20return%20this._texture%20%7C%7C%20super.getTexture()%3B%0A%20%20%20%20%7D%0A%20%20%20%20setContent(textureData)%20%7B%0A%20%20%20%20%20%20const%20gl%20%3D%20this._renderer.gl%3B%0A%20%20%20%20%20%20gl.bindTexture(gl.TEXTURE_2D%2C%20this._texture)%3B%0A%20%20%20%20%20%20gl.texImage2D(gl.TEXTURE_2D%2C%200%2C%20gl.RGBA%2C%20gl.RGBA%2C%20gl.UNSIGNED_BYTE%2C%20textureData)%3B%0A%20%20%20%20%20%20this.emitWasAltered()%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20applyBlends(gl%2C%20type)%20%7B%0A%20%20%20%20switch%20(type)%20%7B%0A%20%20%20%20%20%20case%20%22additive%22%3A%0A%20%20%20%20%20%20%20%20gl.blendEquation(gl.FUNC_ADD)%3B%0A%20%20%20%20%20%20%20%20gl.blendFuncSeparate(gl.ONE%2C%20gl.ONE%2C%20gl.ONE%2C%20gl.ONE_MINUS_SRC_ALPHA)%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22subtract%22%3A%0A%20%20%20%20%20%20%20%20gl.blendEquation(gl.FUNC_REVERSE_SUBTRACT)%3B%0A%20%20%20%20%20%20%20%20gl.blendFuncSeparate(gl.ONE%2C%20gl.ONE%2C%20gl.ONE%2C%20gl.ONE_MINUS_SRC_ALPHA)%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22multiply%22%3A%0A%20%20%20%20%20%20%20%20gl.blendEquation(gl.FUNC_ADD)%3B%0A%20%20%20%20%20%20%20%20gl.blendFuncSeparate(gl.DST_COLOR%2C%20gl.ONE_MINUS_SRC_ALPHA%2C%20gl.ONE%2C%20gl.ONE_MINUS_SRC_ALPHA)%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22screen%22%3A%0A%20%20%20%20%20%20%20%20gl.blendEquation(gl.FUNC_ADD)%3B%0A%20%20%20%20%20%20%20%20gl.blendFuncSeparate(gl.ONE%2C%20gl.ONE_MINUS_SRC_COLOR%2C%20gl.ONE%2C%20gl.ONE_MINUS_SRC_ALPHA)%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22invert%22%3A%0A%20%20%20%20%20%20%20%20gl.blendEquation(gl.FUNC_ADD)%3B%0A%20%20%20%20%20%20%20%20gl.blendFuncSeparate(gl.ONE_MINUS_DST_COLOR%2C%20gl.ONE_MINUS_SRC_COLOR%2C%20gl.ONE%2C%20gl.ONE_MINUS_SRC_ALPHA)%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20gl.blendEquation(gl.FUNC_ADD)%3B%0A%20%20%20%20%20%20%20%20gl.blendFuncSeparate(gl.SRC_ALPHA%2C%20gl.ONE_MINUS_SRC_ALPHA%2C%20gl.ONE%2C%20gl.ONE_MINUS_SRC_ALPHA)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20Patch%20to%20allow%20opacity%20and%20blends%20in%20our%20engine%0A%20%20const%20gu%20%3D%20Drawable.prototype.getUniforms%3B%0A%20%20Drawable.prototype.getUniforms%20%3D%20function()%20%7B%0A%20%20%20%20const%20gl%20%3D%20this._renderer.gl%3B%0A%20%20%20%20if%20(this%5BengineTag%5D)%20applyBlends(gl%2C%20this%5BengineTag%5D)%3B%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20if%20(vm.extensionManager._loadedExtensions.has(%22xeltallivclipblend%22))%20return%20gu.call(this)%3B%0A%20%20%20%20%20%20gl.blendEquation(gl.FUNC_ADD)%3B%0A%20%20%20%20%20%20gl.blendFunc(gl.ONE%2C%20gl.ONE_MINUS_SRC_ALPHA)%3B%20%0A%20%20%20%20%7D%0A%20%20%20%20return%20gu.call(this)%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20Constants%0A%20%20const%20radianConvert%20%3D%20Math.PI%20%2F%20180%3B%0A%20%20const%20vertices%20%3D%20%5B-0.5%2C%20-0.5%2C%200.5%2C%20-0.5%2C%20-0.5%2C%20%200.5%2C%200.5%2C%20-0.5%2C%200.5%2C%20%200.5%2C%20-0.5%2C%20%200.5%5D%3B%0A%20%20const%20texcoords%20%3D%20%5B0%2C%200%2C%201%2C%200%2C%200%2C%201%2C%201%2C%200%2C%201%2C%201%2C%200%2C%201%5D%3B%0A%0A%20%20%2F*%20allows%20sin%2Fcos%20computations%20to%20be%20faster%20*%2F%0A%20%20const%20TWO_PI%20%3D%20Math.PI%20*%202%3B%0A%20%20const%20INV_TWO_PI%20%3D%208192%20%2F%20TWO_PI%3B%0A%20%20const%20sinTable%20%3D%20new%20Float32Array(8192)%2C%20cosTable%20%3D%20new%20Float32Array(8192)%3B%0A%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%208192%3B%20i%2B%2B)%20%7B%0A%20%20%20%20const%20angle%20%3D%20(i%20%2F%208192)%20*%20TWO_PI%3B%0A%20%20%20%20sinTable%5Bi%5D%20%3D%20Math.sin(angle)%3B%0A%20%20%20%20cosTable%5Bi%5D%20%3D%20Math.cos(angle)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Util%20Funcs%0A%20%20const%20fastSin%20%3D%20(rads)%20%3D%3E%20sinTable%5BMath.floor(rads%20*%20INV_TWO_PI)%20%26%208191%5D%3B%0A%20%20const%20fastCos%20%3D%20(rads)%20%3D%3E%20cosTable%5BMath.floor(rads%20*%20INV_TWO_PI)%20%26%208191%5D%3B%0A%0A%20%20const%20rng%20%3D%20(val%2C%20inf)%20%3D%3E%20val%20%2B%20(Math.random()%20*%202%20-%201)%20*%20inf%3B%0A%0A%20%20const%20newTexture%20%3D%20(url%2C%20gl%2C%20callback)%20%3D%3E%20%7B%0A%20%20%20%20%2F%2F%20eslint-disable-next-line%0A%20%20%20%20const%20img%20%3D%20new%20Image()%3B%0A%20%20%20%20img.crossOrigin%20%3D%20%22Anonymous%22%3B%0A%20%20%20%20img.src%20%3D%20url%3B%0A%20%20%20%20img.onerror%20%3D%20(e)%20%3D%3E%20console.error(%22Error%20loading%20texture%3A%22%2C%20e)%3B%0A%20%20%20%20img.onload%20%3D%20()%20%3D%3E%20callback(%7B%0A%20%20%20%20%20%20tWidth%3A%20img.width%2C%20tHeight%3A%20img.height%2C%0A%20%20%20%20%20%20texture%3A%20twgl.createTexture(gl%2C%20%7B%20src%3A%20img%2C%20flipY%3A%20true%20%7D)%0A%20%20%20%20%7D)%3B%0A%20%20%7D%3B%0A%0A%20%20const%20createParticleRGB%20%3D%20(color)%20%3D%3E%20%7B%0A%20%20%20%20const%20rgb%20%3D%20Cast.toRgbColorList(color.val)%3B%0A%20%20%20%20return%20%5B%0A%20%20%20%20%20%20rgb.map((c)%20%3D%3E%20Math.max(Math.min(rng(c%2C%20color.inf)%2C%20255)%2C%200))%2C%0A%20%20%20%20%20%20color.val%0A%20%20%20%20%5D%3B%0A%20%20%7D%3B%0A%0A%20%20const%20createTint%20%3D%20(sRGB%2C%20eRGB%2C%20time)%20%3D%3E%20%7B%0A%20%20%20%20return%20eRGB.map((c%2C%20i)%20%3D%3E%20((c%20*%20time)%20%2B%20(sRGB%5Bi%5D%20*%20(1%20-%20time)))%20%2F%20255)%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20Engine%20Parts%0A%20%20const%20engineVertShader%20%3D%20%60%0Aattribute%20vec2%20a_position%3B%0Aattribute%20vec2%20a_texcoord%3B%0A%0Auniform%20mat4%20u_matrix%3B%0A%0Avarying%20vec2%20v_texcoord%3B%0A%0Avoid%20main()%20%7B%0A%20%20gl_Position%20%3D%20u_matrix%20*%20vec4(a_position%2C%200%2C%201)%3B%0A%20%20v_texcoord%20%3D%20a_texcoord%3B%0A%7D%60%3B%0A%20%20const%20engineFragShader%20%3D%20%60%0Aprecision%20mediump%20float%3B%0A%0Auniform%20sampler2D%20u_texture%3B%0Auniform%20vec4%20u_tintColor%3B%0A%0Avarying%20vec2%20v_texcoord%3B%0A%0Avoid%20main()%20%7B%0A%20%20vec4%20tex%20%3D%20texture2D(u_texture%2C%20v_texcoord)%3B%0A%20%20gl_FragColor%20%3D%20tex%20*%20u_tintColor%3B%0A%7D%60%3B%0A%0A%20%20const%20makeEngine%20%3D%20(target)%20%3D%3E%20%7B%0A%20%20%20%20const%20canvas%20%3D%20document.createElement(%22canvas%22)%3B%0A%20%20%20%20const%20gl%20%3D%20canvas.getContext(%22webgl2%22)%20%3F%3F%20canvas.getContext(%22webgl%22)%3B%0A%20%20%20%20canvas.width%20%3D%20runtime.stageWidth%20%7C%7C%20480%3B%20canvas.height%20%3D%20runtime.stageHeight%20%7C%7C%20360%3B%0A%0A%20%20%20%20const%20targetName%20%3D%20target.getName()%3B%0A%20%20%20%20const%20drawableId%20%3D%20render.createDrawable(%22sprite%22)%3B%0A%20%20%20%20const%20drawable%20%3D%20render._allDrawables%5BdrawableId%5D%3B%0A%20%20%20%20const%20skinId%20%3D%20render._nextSkinId%2B%2B%3B%0A%20%20%20%20const%20skin%20%3D%20new%20particleSkin(skinId%2C%20render)%3B%0A%20%20%20%20render._allSkins%5BskinId%5D%20%3D%20skin%3B%0A%0A%20%20%20%20const%20projection%20%3D%20twgl.m4.ortho(0%2C%20canvas.width%2C%20canvas.height%2C%200%2C%20-1%2C%201)%3B%0A%20%20%20%20const%20programInfo%20%3D%20twgl.createProgramInfo(gl%2C%20%5BengineVertShader%2C%20engineFragShader%5D)%3B%0A%20%20%20%20const%20bufferInfo%20%3D%20twgl.createBufferInfoFromArrays(gl%2C%20%7B%0A%20%20%20%20%20%20a_position%3A%20%7B%20numComponents%3A%202%2C%20data%3A%20vertices%20%7D%2C%0A%20%20%20%20%20%20a_texcoord%3A%20%7B%20numComponents%3A%202%2C%20data%3A%20texcoords%20%7D%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20gl.useProgram(programInfo.program)%3B%0A%20%20%20%20twgl.setBuffersAndAttributes(gl%2C%20programInfo%2C%20bufferInfo)%3B%0A%20%20%20%20gl.enable(gl.BLEND)%3B%0A%20%20%20%20gl.blendFunc(gl.SRC_ALPHA%2C%20gl.ONE_MINUS_SRC_ALPHA)%3B%0A%0A%20%20%20%20const%20engine%20%3D%20%7B%0A%20%20%20%20%20%20drawableId%2C%20drawable%2C%20skinId%2C%20skin%2C%20target%2C%0A%20%20%20%20%20%20canvas%2C%20gl%2C%20programInfo%2C%20bufferInfo%2C%20projection%2C%0A%20%20%20%20%20%20emitters%3A%20Object.create(null)%2C%0A%20%20%20%20%20%20interpolate%3A%20false%2C%20paused%3A%20false%2C%20noTrails%3A%20true%0A%20%20%20%20%7D%3B%0A%20%20%20%20target%5BengineTag%5D%20%3D%20engine%3B%0A%20%20%20%20allEngines.set(targetName%2C%20engine)%3B%0A%20%20%20%20render.updateDrawableSkinId(drawableId%2C%20skinId)%3B%0A%20%20%20%20drawable.customDrawableName%20%3D%20%60%24%7BtargetName%7D%20Particle%20Engine%20(SP)%60%3B%0A%20%20%20%20drawable%5BengineTag%5D%20%3D%20%22default%22%3B%0A%20%20%20%20drawable.stageSZChange%20%3D%20(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20size%20%3D%20%5Bruntime.stageWidth%20%7C%7C%20480%2C%20runtime.stageHeight%20%7C%7C%20360%5D%3B%0A%20%20%20%20%20%20skin.size%20%3D%20size%3B%0A%20%20%20%20%20%20canvas.width%20%3D%20size%5B0%5D%3B%20canvas.height%20%3D%20size%5B1%5D%3B%0A%20%20%20%20%7D).bind(this)%3B%0A%20%20%20%20vm.on(%22STAGE_SIZE_CHANGED%22%2C%20drawable.stageSZChange)%3B%0A%20%20%20%20runtime.requestRedraw()%3B%0A%20%20%7D%3B%0A%0A%20%20const%20disposeEngine%20%3D%20(target)%20%3D%3E%20%7B%0A%20%20%20%20const%20engine%20%3D%20target%5BengineTag%5D%3B%0A%20%20%20%20if%20(!engine)%20return%3B%0A%20%20%20%20vm.off(%22STAGE_SIZE_CHANGED%22%2C%20engine.drawable.stageSZChange)%3B%0A%20%20%20%20render.destroyDrawable(engine.drawableId%2C%20%22sprite%22)%3B%0A%20%20%20%20render.destroySkin(engine.skinId)%3B%0A%20%20%20%20runtime.requestRedraw()%3B%0A%20%20%20%20target%5BengineTag%5D%20%3D%20undefined%3B%0A%20%20%20%20allEngines.delete(target.getName())%3B%0A%20%20%7D%3B%0A%0A%20%20const%20updateEngine%20%3D%20(engine)%20%3D%3E%20%7B%0A%20%20%20%20const%20%7B%0A%20%20%20%20%20%20canvas%2C%20gl%2C%20programInfo%2C%0A%20%20%20%20%20%20bufferInfo%2C%20projection%2C%0A%20%20%20%20%20%20emitters%2C%0A%20%20%20%20%20%20interpolate%2C%20noTrails%0A%20%20%20%20%7D%20%3D%20engine%3B%0A%20%20%20%20const%20%7B%20width%2C%20height%20%7D%20%3D%20canvas%3B%0A%20%20%20%20const%20delta%20%3D%20interpolate%20%3F%201%20%2B%20deltaTime%20%3A%201%3B%0A%20%20%20%20const%20lifeRate%20%3D%200.01%20*%20delta%3B%0A%0A%20%20%20%20%2F%2F%20Clear%20canvas%0A%20%20%20%20twgl.bindFramebufferInfo(gl%2C%20null)%3B%0A%20%20%20%20gl.viewport(0%2C%200%2C%20width%2C%20height)%3B%0A%20%20%20%20if%20(noTrails)%20%7B%0A%20%20%20%20%20%20gl.clearColor(0%2C%200%2C%200%2C%200)%3B%0A%20%20%20%20%20%20gl.clear(gl.COLOR_BUFFER_BIT)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20for%20(const%20key%20in%20emitters)%20%7B%0A%20%20%20%20%20%20const%20emitter%20%3D%20emitters%5Bkey%5D%3B%0A%20%20%20%20%20%20if%20(!emitter.texture)%20continue%3B%0A%0A%20%20%20%20%20%20const%20%7B%20pos%2C%20opts%2C%20tintCache%2C%20data%2C%20texture%20%7D%20%3D%20emitter%3B%0A%20%20%20%20%20%20const%20%7B%20tWidth%2C%20tHeight%20%7D%20%3D%20texture%3B%0A%20%20%20%20%20%20emitter.frameCnt%2B%2B%3B%0A%0A%20%20%20%20%20%20const%20maxP%20%3D%20Math.round(rng(opts.maxP.val%2C%20opts.maxP.inf))%3B%0A%20%20%20%20%20%20const%20rPos%20%3D%20%5Bpos%5B0%5D%20-%20(tWidth%20*%20.25)%2C%20pos%5B1%5D%20%2B%20(tHeight%20*%20.25)%5D%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Emit%20new%20particles%0A%20%20%20%20%20%20if%20(emitter.frameCnt%20%3E%201%20%26%26%20data.size%20%3C%20maxP)%20%7B%0A%20%20%20%20%20%20%20%20const%20count%20%3D%20Math.min(maxP%2C%20Math.round(rng(opts.emission.val%2C%20opts.emission.inf)))%3B%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20count%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20life%20%3D%20rng(opts.time.val%2C%20opts.time.inf)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20obj%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ind%3A%200%2C%20conLife%3A%20life%20*%20100%2C%20life%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%3A%20rng(opts.speed.val%2C%20opts.speed.inf)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20rPos%5B0%5D%20%2B%20rng(opts.xPos.val%2C%20opts.xPos.inf)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20rPos%5B1%5D%20%2B%20rng(opts.yPos.val%20*%20-1%2C%20opts.yPos.inf)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20dir%3A%20rng(opts.sDir.val%20-%2090%2C%20opts.sDir.inf)%2C%20eDir%3A%20rng(opts.eDir.val%20-%2090%2C%20opts.eDir.inf)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20spin%3A%20rng(opts.sSpin.val%20-%2090%2C%20opts.sSpin.inf)%2C%20eSpin%3A%20rng(opts.eSpin.val%20-%2090%2C%20opts.eSpin.inf)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20size%3A%20rng(opts.sSize.val%2C%20opts.sSize.inf)%20*%200.01%2C%20eSize%3A%20rng(opts.eSize.val%2C%20opts.eSize.inf)%20*%200.01%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20streX%3A%20rng(opts.sStreX.val%2C%20opts.sStreX.inf)%20*%200.01%2C%20eStreX%3A%20rng(opts.eStreX.val%2C%20opts.eStreX.inf)%20*%200.01%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20streY%3A%20rng(opts.sStreY.val%2C%20opts.sStreY.inf)%20*%200.01%2C%20eStreY%3A%20rng(opts.eStreY.val%2C%20opts.eStreY.inf)%20*%200.01%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20gravX%3A%20rng(opts.gravX.val%2C%20opts.gravX.inf)%2C%20gravY%3A%20rng(opts.gravY.val%2C%20opts.gravY.inf)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20accelRad%3A%20rng(opts.accelRad.val%2C%20opts.accelRad.inf)%2C%20accelTan%3A%20rng(opts.accelTan.val%2C%20opts.accelTan.inf)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sinW%3A%20rng(opts.sinW.val%2C%20opts.sinW.inf)%2C%20cosW%3A%20rng(opts.cosW.val%2C%20opts.cosW.inf)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sinS%3A%20rng(opts.sinS.val%2C%20opts.sinS.inf)%2C%20cosS%3A%20rng(opts.cosS.val%2C%20opts.cosS.inf)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20fIn%3A%20rng(opts.fIn.val%2C%20opts.fIn.inf)%2C%20fOut%3A%20rng(opts.fOut.val%2C%20opts.fOut.inf)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sCol%3A%20createParticleRGB(opts.sCol)%2C%20eCol%3A%20createParticleRGB(opts.eCol)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20ogPos%3A%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20obj.ogPos%20%3D%20%5Bobj.x%2C%20obj.y%5D%3B%0A%20%20%20%20%20%20%20%20%20%20data.add(obj)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20gl.activeTexture(gl.TEXTURE0)%3B%0A%20%20%20%20%20%20gl.bindTexture(gl.TEXTURE_2D%2C%20texture.texture)%3B%0A%0A%20%20%20%20%20%20for%20(const%20particle%20of%20data)%20%7B%0A%20%20%20%20%20%20%20%20let%20%7B%0A%20%20%20%20%20%20%20%20%20%20ind%2C%20conLife%2C%20life%2C%20x%2C%20y%2C%20ogPos%2C%20dir%2C%20eDir%2C%20size%2C%20eSize%2C%20spin%2C%20eSpin%2C%0A%20%20%20%20%20%20%20%20%20%20speed%2C%20gravX%2C%20gravY%2C%20streX%2C%20eStreX%2C%20streY%2C%20eStreY%2C%20accelRad%2C%20accelTan%2C%0A%20%20%20%20%20%20%20%20%20%20sinW%2C%20sinS%2C%20cosW%2C%20cosS%2C%20fIn%2C%20fOut%2C%20sCol%2C%20eCol%0A%20%20%20%20%20%20%20%20%7D%20%3D%20particle%3B%0A%20%20%20%20%20%20%20%20%2F*%20do%20not%20draw%20if%20dead%20*%2F%0A%20%20%20%20%20%20%20%20if%20(particle.life%20-%20lifeRate%20%3C%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20data.delete(particle)%3B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20const%20dx%20%3D%20x%20-%20(pos%5B0%5D%20%2B%20width%20*%200.5)%3B%0A%20%20%20%20%20%20%20%20const%20dy%20%3D%20y%20-%20(pos%5B1%5D%20%2B%20height%20*%200.5)%3B%0A%20%20%20%20%20%20%20%20const%20mag%20%3D%20Math.hypot(dx%2C%20dy)%20%7C%7C%201%3B%0A%20%20%20%20%20%20%20%20const%20normX%20%3D%20dx%20%2F%20mag%3B%0A%20%20%20%20%20%20%20%20const%20normY%20%3D%20dy%20%2F%20mag%3B%0A%20%20%20%20%20%20%20%20const%20dirRad%20%3D%20dir%20*%20radianConvert%3B%0A%0A%20%20%20%20%20%20%20%20ogPos%5B0%5D%20%2B%3D%20(fastCos(dirRad)%20*%20speed%20%2B%20(normX%20*%20accelRad%20*%20ind)%20%2B%20(-normY%20*%20accelTan%20*%20ind))%20*%20delta%3B%0A%20%20%20%20%20%20%20%20ogPos%5B1%5D%20%2B%3D%20(fastSin(dirRad)%20*%20speed%20%2B%20(normY%20*%20accelRad%20*%20ind)%20%2B%20(normX%20*%20accelTan%20*%20ind))%20*%20delta%3B%0A%20%20%20%20%20%20%20%20ogPos%5B0%5D%20-%3D%20gravX%20*%20ind%20*%20delta%3B%0A%20%20%20%20%20%20%20%20ogPos%5B1%5D%20-%3D%20gravY%20*%20ind%20*%20delta%3B%0A%0A%20%20%20%20%20%20%20%20const%20waveT%20%3D%20conLife%20-%20life%3B%0A%20%20%20%20%20%20%20%20particle.x%20%3D%20ogPos%5B0%5D%20%2B%20fastSin(waveT%20*%20sinS)%20*%20sinW%20*%20delta%3B%0A%20%20%20%20%20%20%20%20particle.y%20%3D%20ogPos%5B1%5D%20%2B%20fastCos(waveT%20*%20cosS)%20*%20cosW%20*%20delta%3B%0A%0A%20%20%20%20%20%20%20%20const%20fadeIn%20%3D%20ind%20*%20(1%20%2F%20fIn)%3B%0A%20%20%20%20%20%20%20%20const%20fadeOut%20%3D%20(conLife%20-%20ind)%20*%20(1%20%2F%20fOut)%3B%0A%20%20%20%20%20%20%20%20const%20opacity%20%3D%20Math.max(Math.min(fadeIn%2C%20fadeOut%2C%201)%2C%200)%3B%0A%0A%20%20%20%20%20%20%20%20const%20tintKey%20%3D%20life.toFixed(4)%3B%0A%20%20%20%20%20%20%20%20let%20tint%20%3D%20tintCache.get(tintKey)%3B%0A%20%20%20%20%20%20%20%20if%20(!tint)%20%7B%0A%20%20%20%20%20%20%20%20%20%20tint%20%3D%20createTint(sCol%5B0%5D%2C%20eCol%5B0%5D%2C%20Math.max(0%2C%20Math.min(ind%20%2F%20conLife%2C%201)))%3B%0A%20%20%20%20%20%20%20%20%20%20tintCache.set(tintKey%2C%20tint)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20particle.ind%2B%2B%3B%0A%20%20%20%20%20%20%20%20particle.life%20-%3D%20lifeRate%3B%0A%0A%20%20%20%20%20%20%20%20const%20screenX%20%3D%20particle.x%20%2B%20width%20*%200.5%3B%0A%20%20%20%20%20%20%20%20const%20screenY%20%3D%20particle.y%20%2B%20height%20*%200.5%3B%0A%20%20%20%20%20%20%20%20const%20sizeX%20%3D%20tWidth%20*%20size%20*%20streX%3B%0A%20%20%20%20%20%20%20%20const%20sizeY%20%3D%20tHeight%20*%20size%20*%20streY%3B%0A%20%20%20%20%20%20%20%20%2F*%20do%20not%20draw%20if%20out-of-bounds%20*%2F%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20screenX%20%2B%20sizeX%20%3C%200%20%7C%7C%20screenX%20-%20sizeX%20%3E%20width%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20screenY%20%2B%20sizeY%20%3C%200%20%7C%7C%20screenY%20-%20sizeY%20%3E%20height%0A%20%20%20%20%20%20%20%20)%20continue%3B%0A%0A%20%20%20%20%20%20%20%20const%20posNDC%20%3D%20%5Bparticle.x%20%2B%20(width%20*%20.5)%2C%20particle.y%20%2B%20(height%20*%20.5)%2C%200%5D%3B%0A%0A%20%20%20%20%20%20%20%20let%20matrix%20%3D%20twgl.m4.translate(projection%2C%20posNDC)%3B%0A%20%20%20%20%20%20%20%20matrix%20%3D%20twgl.m4.rotateZ(matrix%2C%20spin%20*%20radianConvert)%3B%0A%20%20%20%20%20%20%20%20matrix%20%3D%20twgl.m4.scale(matrix%2C%20%5BsizeX%2C%20sizeY%2C%201%5D)%3B%0A%0A%20%20%20%20%20%20%20%20twgl.setUniforms(programInfo%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20u_matrix%3A%20matrix%2C%0A%20%20%20%20%20%20%20%20%20%20u_texture%3A%20texture.texture%2C%0A%20%20%20%20%20%20%20%20%20%20u_tintColor%3A%20%5B...tint%2C%20opacity%5D%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20twgl.drawBufferInfo(gl%2C%20bufferInfo)%3B%0A%0A%20%20%20%20%20%20%20%20const%20deltaFactor%20%3D%20delta%20%2F%20conLife%3B%0A%20%20%20%20%20%20%20%20particle.dir%20%2B%3D%20(eDir%20-%20dir)%20*%20deltaFactor%3B%0A%20%20%20%20%20%20%20%20particle.spin%20%2B%3D%20(eSpin%20-%20spin)%20*%20deltaFactor%3B%0A%20%20%20%20%20%20%20%20particle.size%20%2B%3D%20(eSize%20-%20size)%20*%20deltaFactor%3B%0A%20%20%20%20%20%20%20%20particle.streX%20%2B%3D%20(eStreX%20-%20streX)%20*%20deltaFactor%3B%0A%20%20%20%20%20%20%20%20particle.streY%20%2B%3D%20(eStreY%20-%20streY)%20*%20deltaFactor%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20const%20resetFrameCnts%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20allEngines.forEach((engine)%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20emitters%20%3D%20Object.values(engine.emitters)%3B%0A%20%20%20%20%20%20for%20(const%20emitter%20of%20emitters)%20%7B%0A%20%20%20%20%20%20%20%20emitter.frameCnt%20%3D%200%3B%0A%20%20%20%20%20%20%20%20emitter.tintCache.clear()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%7D%3B%0A%20%20runtime.on(%22PROJECT_START%22%2C%20resetFrameCnts)%3B%0A%20%20runtime.on(%22PROJECT_STOP_ALL%22%2C%20resetFrameCnts)%3B%0A%20%20runtime.on(%22PROJECT_LOADED%22%2C%20()%20%3D%3E%20allEngines.forEach((engine)%20%3D%3E%20disposeEngine(engine.target)))%3B%0A%0A%20%20window.addEventListener(%22focus%22%2C%20()%20%3D%3E%20%7B%20tabBlured%20%3D%20false%20%7D)%3B%0A%20%20window.addEventListener(%22blur%22%2C%20()%20%3D%3E%20%7B%20tabBlured%20%3D%20true%20%7D)%3B%0A%0A%20%20%2F%2F%20update%20non-interpolated%20engines%0A%20%20runtime.on(%22AFTER_EXECUTE%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20if%20(tabBlured%20%7C%7C%20runtime.ioDevices.clock._paused)%20return%3B%0A%20%20%20%20allEngines.forEach((engine)%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(engine.paused%20%7C%7C%20engine.interpolate)%20return%3B%0A%20%20%20%20%20%20updateEngine(engine)%3B%0A%20%20%20%20%20%20engine.skin.setContent(engine.canvas)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D)%3B%0A%0A%20%20%2F%2F%20update%20interpolated%20engines%0A%20%20function%20interpolateEngines()%20%7B%0A%20%20%20%20if%20(tabBlured%20%7C%7C%20runtime.ioDevices.clock._paused)%20%7B%0A%20%20%20%20%20%20requestAnimationFrame(interpolateEngines)%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20now%20%3D%20performance.now()%3B%0A%20%20%20%20deltaTime%20%3D%20prevTime%20%3D%3D%3D%200%20%3F%200%20%3A%20(now%20-%20prevTime)%20*%200.001%3B%0A%20%20%20%20prevTime%20%3D%20now%3B%0A%0A%20%20%20%20const%20fps%20%3D%20%2B(1%20%2F%20deltaTime).toFixed(2)%3B%0A%20%20%20%20const%20frameTime%20%3D%201000%20%2F%20fps%3B%0A%20%20%20%20allEngines.forEach((engine)%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(!engine.interpolate%20%7C%7C%20engine.paused)%20return%3B%0A%0A%20%20%20%20%20%20let%20remainingTime%20%3D%20deltaTime%20*%201000%3B%0A%20%20%20%20%20%20const%20updatesNeeded%20%3D%20Math.floor(remainingTime%20%2F%20frameTime)%3B%0A%20%20%20%20%20%20for%20(let%20j%20%3D%200%3B%20j%20%3C%20updatesNeeded%3B%20j%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20updateEngine(engine)%3B%0A%20%20%20%20%20%20%20%20engine.skin.setContent(engine.canvas)%3B%0A%20%20%20%20%20%20%20%20remainingTime%20-%3D%20frameTime%3B%0A%20%20%20%20%20%20%20%20if%20(remainingTime%20%3C%20frameTime)%20break%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(remainingTime%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20updateEngine(engine)%3B%0A%20%20%20%20%20%20%20%20engine.skin.setContent(engine.canvas)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20requestAnimationFrame(interpolateEngines)%3B%0A%20%20%7D%0A%20%20requestAnimationFrame(interpolateEngines)%3B%0A%0A%20%20const%20color1%20%3D%20%22%232474ff%22%3B%0A%20%20%0A%20%20class%20SPpartEngine%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22SPpartEngine%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Particle%20Engine%22)%2C%0A%20%20%20%20%20%20%20%20color1%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23005dff%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%230043ff%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createEngine%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22create%20engine%20for%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteEngine%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20engine%20from%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22ALL_TARG%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22engineAction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22is%20%5BTARGET%5D%20engine%20%5BTYPE%5D%3F%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22ACTION%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setVisible%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BTYPE%5D%20%5BTARGET%5D%20engine%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22ALL_TARG%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22VISIBLE%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setEngineSize%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20size%20of%20%5BTARGET%5D%20engine%20to%20x%20%5Bx%5D%20y%20%5By%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setCanvasSize%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20stage%20size%20of%20%5BTARGET%5D%20engine%20to%20width%20%5Bw%5D%20height%20%5Bh%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20w%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20480%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20h%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20360%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setLayer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20layer%20of%20%5BTARGET%5D%20engine%20to%20%5BVAL%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VAL%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%201%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getLayer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BTARGET%5D%20engine%20layer%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setEngineOpt%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5BOPT%5D%20in%20%5BTARGET%5D%20engine%20%5BTYPE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20OPT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22ENGINE_OPS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22ALL_TARG%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TOGGLER%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setEngineBlend%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20blend%20mode%20of%20engine%20%5BTARGET%5D%20to%20%5BTYPE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22ALL_TARG%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22BLENDING%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%20blockType%3A%20Scratch.BlockType.LABEL%2C%20text%3A%20Scratch.translate(%22Emitters%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createEmitter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22create%20emitter%20named%20%5BNAME%5D%20for%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22emit-1%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteEmitter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20emitter%20%5BNAME%5D%20from%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22emit-1%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22emitterExist%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22does%20emitter%20%5BNAME%5D%20in%20%5BTARGET%5D%20exist%3F%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22emit-1%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setEmitPos%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20position%20of%20emitter%20%5BNAME%5D%20in%20%5BTARGET%5D%20to%20x%20%5Bx%5D%20y%20%5By%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22emit-1%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22emitterPos%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BTYPE%5D%20of%20emitter%20%5BNAME%5D%20in%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22POS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22emit-1%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setEmitTexture%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20texture%20of%20emitter%20%5BNAME%5D%20in%20%5BTARGET%5D%20to%20%5BIMG%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22emit-1%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20IMG%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22data.URI%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22defaultTexture%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BTYPE%5D%20texture%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TEXTURES%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setEmitMotion%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5BTYPE%5D%20of%20emitter%20%5BNAME%5D%20in%20%5BTARGET%5D%20to%20%5BVAL%5D%20%C2%B1%20%5BINT%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22BEHAVIOURS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22emit-1%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VAL%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2015%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INT%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setEmitColor%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5BTYPE%5D%20color%20of%20emitter%20%5BNAME%5D%20in%20%5BTARGET%5D%20to%20%5BVAL%5D%20%C2%B1%20%5BINT%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22COLOR_EMIT%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22emit-1%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VAL%3A%20%7B%20type%3A%20Scratch.ArgumentType.COLOR%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INT%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getBehaviour%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BBEHAVE%5D%20%5BTYPE%5D%20of%20emitter%20%5BNAME%5D%20in%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BEHAVE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22ALL_BEHAVIOURS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22BEHAVE_VAL%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22emit-1%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%20blockType%3A%20Scratch.BlockType.LABEL%2C%20text%3A%20Scratch.translate(%22Advanced%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22importEmit%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22import%20data%20%5BDATA%5D%20to%20emitter%20%5BNAME%5D%20in%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DATA%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22%7B%7D%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22emit-1%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22exportEmit%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22export%20emitter%20%5BNAME%5D%20in%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22emit-1%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20TARGETS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.getTargets(false)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20ALL_TARG%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.getTargets(true)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20BEHAVIOURS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.getBehaviours(false)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20ALL_BEHAVIOURS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.getBehaviours(true)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20POS%3A%20%5B%22x%22%2C%20%22y%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20BEHAVE_VAL%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22value%22)%2C%20value%3A%20%22value%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22randomizer%22)%2C%20value%3A%20%22randomizer%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20ACTION%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22created%22)%2C%20value%3A%20%22created%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22visible%22)%2C%20value%3A%20%22visible%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20VISIBLE%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22show%22)%2C%20value%3A%20%22show%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22hide%22)%2C%20value%3A%20%22hide%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20ENGINE_OPS%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22interpolation%22)%2C%20value%3A%20%22interpolation%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22freeze%22)%2C%20value%3A%20%22freeze%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22particle%20trails%22)%2C%20value%3A%20%22trails%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20TOGGLER%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22on%22)%2C%20value%3A%20%22on%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22off%22)%2C%20value%3A%20%22off%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20TEXTURES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22circle%22)%2C%20value%3A%20%22circle%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22square%22)%2C%20value%3A%20%22square%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22triangle%22)%2C%20value%3A%20%22triangle%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22star%22)%2C%20value%3A%20%22star%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20COLOR_EMIT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22start%22)%2C%20value%3A%20%22sCol%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22end%22)%2C%20value%3A%20%22eCol%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20BLENDING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22default%22)%2C%20value%3A%20%22default%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22additive%22)%2C%20value%3A%20%22additive%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22subtract%22)%2C%20value%3A%20%22subtract%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22screen%22)%2C%20value%3A%20%22screen%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22multiply%22)%2C%20value%3A%20%22multiply%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22invert%22)%2C%20value%3A%20%22invert%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Helper%20Funcs%0A%20%20%20%20getTargets(optAll)%20%7B%0A%20%20%20%20%20%20const%20items%20%3D%20%5B%7B%20text%3A%20Scratch.translate(%22Stage%22)%2C%20value%3A%20%22_stage_%22%20%7D%5D%3B%0A%20%20%20%20%20%20if%20(optAll)%20items.push(%7B%20text%3A%20Scratch.translate(%22all%22)%2C%20value%3A%20%22_all_%22%20%7D)%3B%0A%20%20%20%20%20%20const%20targets%20%3D%20runtime.targets%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%201%3B%20i%20%3C%20targets.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20targets%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20if%20(target.isOriginal)%20items.push(%7B%20text%3A%20target.getName()%2C%20value%3A%20target.getName()%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20items.length%20%3E%200%20%3F%20items%20%3A%20%5B%22%22%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getBehaviours(optAll)%20%7B%0A%20%20%20%20%20%20const%20items%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22max%20particles%22)%2C%20value%3A%20%22maxP%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22emission%22)%2C%20value%3A%20%22emission%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22lifetime%22)%2C%20value%3A%20%22time%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22speed%22)%2C%20value%3A%20%22speed%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22start%20x%22)%2C%20value%3A%20%22xPos%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22start%20y%22)%2C%20value%3A%20%22yPos%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22gravity%20x%22)%2C%20value%3A%20%22gravX%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22gravity%20y%22)%2C%20value%3A%20%22gravY%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22start%20direction%22)%2C%20value%3A%20%22sDir%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22end%20direction%22)%2C%20value%3A%20%22eDir%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22start%20spin%22)%2C%20value%3A%20%22sSpin%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22end%20spin%22)%2C%20value%3A%20%22eSpin%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22start%20size%22)%2C%20value%3A%20%22sSize%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22end%20size%22)%2C%20value%3A%20%22eSize%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22start%20stretch%20x%22)%2C%20value%3A%20%22sStreX%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22end%20stretch%20x%22)%2C%20value%3A%20%22eStreX%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22start%20stretch%20y%22)%2C%20value%3A%20%22sStreY%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22end%20stretch%20y%22)%2C%20value%3A%20%22eStreY%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22acceleration%20radius%22)%2C%20value%3A%20%22accelRad%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22acceleration%20tan%22)%2C%20value%3A%20%22accelTan%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22sine%20wave%22)%2C%20value%3A%20%22sinW%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22sine%20speed%22)%2C%20value%3A%20%22sinS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22cosine%20wave%22)%2C%20value%3A%20%22cosW%22%20%7D%2C%7B%20text%3A%20Scratch.translate(%22cosine%20speed%22)%2C%20value%3A%20%22cosS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22fade%20in%22)%2C%20value%3A%20%22fIn%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22fade%20out%22)%2C%20value%3A%20%22fOut%22%20%7D%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20if%20(optAll)%20items.push(%7B%20text%3A%20Scratch.translate(%22start%20color%22)%2C%20value%3A%20%22sCol%22%20%7D%2C%20%7B%20text%3A%20Scratch.translate(%22end%20color%22)%2C%20value%3A%20%22eCol%22%20%7D)%3B%0A%20%20%20%20%20%20return%20items%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getSprite(name)%20%7B%0A%20%20%20%20%20%20if%20(name%20%3D%3D%3D%20%22_all_%22)%20return%20%22_all_%22%3B%0A%20%20%20%20%20%20if%20(name%20%3D%3D%3D%20%22_stage_%22)%20return%20runtime.getTargetForStage()%3B%0A%20%20%20%20%20%20return%20runtime.getSpriteTargetByName(name)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Block%20Funcs%0A%20%20%20%20createEngine(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D%20%3D%3D%3D%20undefined)%20makeEngine(target)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteEngine(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%3D%3D%3D%20%22_all_%22)%20%7B%0A%20%20%20%20%20%20%20%20allEngines.forEach((engine)%20%3D%3E%20disposeEngine(engine.target))%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D%20!%3D%3D%20undefined)%20disposeEngine(target)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20engineAction(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20%7B%0A%20%20%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22visible%22)%20return%20target%5BengineTag%5D.drawable._visible%3B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setVisible(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%3D%3D%3D%20%22_all_%22)%20%7B%0A%20%20%20%20%20%20%20%20allEngines.forEach((engine)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20engine.drawable.updateVisible(args.TYPE%20%3D%3D%3D%20%22show%22)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20target%5BengineTag%5D.drawable.updateVisible(args.TYPE%20%3D%3D%3D%20%22show%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setEngineSize(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20target%5BengineTag%5D.drawable.updateScale(%0A%20%20%20%20%20%20%20%20new%20Float32Array(%5B%0A%20%20%20%20%20%20%20%20%20%20Cast.toNumber(args.x)%2C%20Cast.toNumber(args.y)%0A%20%20%20%20%20%20%20%20%5D)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setCanvasSize(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20%7B%0A%20%20%20%20%20%20%20%20const%20canvas%20%3D%20target%5BengineTag%5D.canvas%3B%0A%20%20%20%20%20%20%20%20canvas.width%20%3D%20Math.min(5000%2C%20Math.max(1%2C%20Cast.toNumber(args.w)))%3B%0A%20%20%20%20%20%20%20%20canvas.height%20%3D%20Math.min(5000%2C%20Math.max(1%2C%20Cast.toNumber(args.h)))%3B%0A%20%20%20%20%20%20%20%20target%5BengineTag%5D.projection%20%3D%20twgl.m4.ortho(0%2C%20canvas.width%2C%20canvas.height%2C%200%2C%20-1%2C%201)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setLayer(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20%7B%0A%20%20%20%20%20%20%20%20const%20ind%20%3D%20Cast.toNumber(args.VAL)%3B%0A%20%20%20%20%20%20%20%20const%20id%20%3D%20target%5BengineTag%5D.drawableId%3B%0A%20%20%20%20%20%20%20%20render.setDrawableOrder(id%2C%20ind%20-%20render.getDrawableOrder(id)%2C%20%22sprite%22%2C%20true)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20getLayer(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20return%20render.getDrawableOrder(target%5BengineTag%5D.drawableId)%3B%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setEngineOpt(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20const%20engine%20%3D%20target%3F.%5BengineTag%5D%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20engine)%20%7B%0A%20%20%20%20%20%20%20%20const%20toggle%20%3D%20args.TYPE%20%3D%3D%3D%20%22on%22%3B%0A%20%20%20%20%20%20%20%20switch%20(args.OPT)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22interpolation%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20engine.interpolate%20%3D%20toggle%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22freeze%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20engine.paused%20%3D%20toggle%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22trails%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20engine.noTrails%20%3D%20!toggle%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setEngineBlend(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20const%20engine%20%3D%20target%3F.%5BengineTag%5D%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20engine)%20engine.drawable%5BengineTag%5D%20%3D%20Cast.toString(args.TYPE)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20createEmitter(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(!target%20%7C%7C%20!target%5BengineTag%5D)%20return%3B%0A%20%20%20%20%20%20const%20engine%20%3D%20target%5BengineTag%5D%3B%0A%20%20%20%20%20%20engine.emitters%5Bargs.NAME%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20pos%3A%20%5B0%2C0%5D%2C%20opts%3A%20structuredClone(optionList)%2C%0A%20%20%20%20%20%20%20%20frameCnt%3A%200%2C%20tintCache%3A%20new%20Map()%2C%20data%3A%20new%20Set()%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20newTexture(shapes.sqr%2C%20engine.gl%2C%20(t)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20engine.emitters%5Bargs.NAME%5D.texture%20%3D%20t%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteEmitter(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20delete%20target%5BengineTag%5D.emitters%5Bargs.NAME%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20emitterExist(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20return%20target%5BengineTag%5D.emitters%5Bargs.NAME%5D%20!%3D%3D%20undefined%3B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setEmitPos(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20%7B%0A%20%20%20%20%20%20%20%20const%20engine%20%3D%20target%5BengineTag%5D%3B%0A%20%20%20%20%20%20%20%20if%20(engine.emitters%5Bargs.NAME%5D)%20engine.emitters%5Bargs.NAME%5D.pos%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20Cast.toNumber(args.x)%2C%20Cast.toNumber(args.y)%20*%20-1%0A%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20emitterPos(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20%7B%0A%20%20%20%20%20%20%20%20const%20engine%20%3D%20target%5BengineTag%5D%3B%0A%20%20%20%20%20%20%20%20if%20(engine.emitters%5Bargs.NAME%5D)%20return%20engine.emitters%5Bargs.NAME%5D.pos%5Bargs.TYPE%20%3D%3D%3D%20%22x%22%20%3F%200%20%3A%201%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setEmitTexture(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20%7B%0A%20%20%20%20%20%20%20%20const%20engine%20%3D%20target%5BengineTag%5D%3B%0A%20%20%20%20%20%20%20%20const%20space%20%3D%20engine.emitters%5Bargs.NAME%5D%3B%0A%20%20%20%20%20%20%20%20if%20(space)%20%7B%0A%20%20%20%20%20%20%20%20%20%20newTexture(args.IMG%2C%20engine.gl%2C%20(texture)%20%3D%3E%20%7B%20space.texture%20%3D%20texture%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20runtime.requestRedraw()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20defaultTexture(args)%20%7B%0A%20%20%20%20%20%20switch%20(args.TYPE)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22circle%22%3A%20return%20shapes.circ%3B%0A%20%20%20%20%20%20%20%20case%20%22square%22%3A%20return%20shapes.sqr%3B%0A%20%20%20%20%20%20%20%20case%20%22triangle%22%3A%20return%20shapes.tri%3B%0A%20%20%20%20%20%20%20%20case%20%22star%22%3A%20return%20shapes.star%3B%0A%20%20%20%20%20%20%20%20default%3A%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setEmitColor(args)%20%7B%20this.setEmitMotion(%7B%20...args%2C%20TOCOL%3A%20true%20%7D)%20%7D%0A%20%20%20%20setEmitMotion(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20%7B%0A%20%20%20%20%20%20%20%20const%20engine%20%3D%20target%5BengineTag%5D%3B%0A%20%20%20%20%20%20%20%20const%20emitter%20%3D%20engine.emitters%5Bargs.NAME%5D%3B%0A%20%20%20%20%20%20%20%20if%20(emitter)%20%7B%0A%20%20%20%20%20%20%20%20%20%20let%20type%2C%20val%2C%20shouldResetCache%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(args.TOCOL)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20type%20%3D%20args.TYPE%20%3D%3D%3D%20%22sCol%22%20%3F%20%22sCol%22%20%3A%20%22eCol%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20val%20%3D%20Cast.toString(args.VAL)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20shouldResetCache%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20type%20%3D%20Cast.toString(args.TYPE)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20%22time%22)%20shouldResetCache%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20val%20%3D%20Cast.toNumber(args.VAL)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(emitter.opts%5Btype%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20emitter.opts%5Btype%5D%20%3D%20%7B%20val%2C%20inf%3A%20Cast.toNumber(args.INT)%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(shouldResetCache)%20emitter.tintCache.clear()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20getBehaviour(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20%7B%0A%20%20%20%20%20%20%20%20const%20engine%20%3D%20target%5BengineTag%5D%3B%0A%20%20%20%20%20%20%20%20if%20(engine.emitters%5Bargs.NAME%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20opt%20%3D%20engine.emitters%5Bargs.NAME%5D.opts%5Bargs.BEHAVE%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(opt)%20return%20opt%5Bargs.TYPE%20%3D%3D%3D%20%22value%22%20%3F%20%22val%22%20%3A%20%22inf%22%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20importEmit(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20%7B%0A%20%20%20%20%20%20%20%20const%20engine%20%3D%20target%5BengineTag%5D%3B%0A%20%20%20%20%20%20%20%20const%20emitter%20%3D%20engine.emitters%5Bargs.NAME%5D%3B%0A%20%20%20%20%20%20%20%20if%20(emitter)%20%7B%0A%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20rawOpts%20%3D%20JSON.parse(args.DATA)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(rawOpts.constructor.name%20!%3D%3D%20%22Object%22)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20whiteKeys%20%3D%20%5B%22maxP%22%2C%22emission%22%2C%22time%22%2C%22speed%22%2C%22xPos%22%2C%22yPos%22%2C%22gravX%22%2C%22gravY%22%2C%22sDir%22%2C%22eDir%22%2C%22sSpin%22%2C%22eSpin%22%2C%22sSize%22%2C%22eSize%22%2C%22sStreX%22%2C%22eStreX%22%2C%22sStreY%22%2C%22eStreY%22%2C%22accelRad%22%2C%22accelTan%22%2C%22sinW%22%2C%22cosW%22%2C%22sinS%22%2C%22cosS%22%2C%22fIn%22%2C%22fOut%22%2C%22sCol%22%2C%22eCol%22%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20entries%20%3D%20Object.entries(rawOpts)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(whiteKeys.length%20!%3D%3D%20entries.length)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20entries.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20entry%20%3D%20entries%5Bi%5D%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20entry.inf%20%3D%3D%3D%20%22number%22%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(entries%5Bi%5D%5B0%5D.includes(%22Col%22)%20%3F%20typeof%20entry.val%20%3D%3D%3D%20%22string%22%20%3A%20typeof%20entry.val%20%3D%3D%3D%20%22number%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20emitter.opts%20%3D%20rawOpts%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20emitter.tintCache.clear()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%7B%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20exportEmit(args)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getSprite(args.TARGET)%3B%0A%20%20%20%20%20%20if%20(target%20%26%26%20target%5BengineTag%5D)%20%7B%0A%20%20%20%20%20%20%20%20const%20engine%20%3D%20target%5BengineTag%5D%3B%0A%20%20%20%20%20%20%20%20if%20(engine.emitters%5Bargs.NAME%5D)%20return%20JSON.stringify(engine.emitters%5Bargs.NAME%5D.opts)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%22%7B%7D%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20if%20(Scratch.gui)%20Scratch.gui.getBlockly().then((SB)%20%3D%3E%20%7B%0A%20%20%20%20function%20add2Body()%20%7B%0A%20%20%20%20%20%20const%20grad%20%3D%20document.querySelector(%60div%5Bclass%3D%22SPgradCache%22%5D%60)%20%7C%7C%20document.createElement(%22div%22)%3B%0A%20%20%20%20%20%20grad.setAttribute(%22class%22%2C%20%22SPgradCache%22)%3B%0A%20%20%20%20%20%20grad.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%24%7Bgrad.innerHTML%7D%0A%20%20%20%20%20%20%20%20%3Csvg%3E%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%22100%22%20y1%3D%220%22%20x2%3D%22100%22%20y2%3D%22200%22%20id%3D%22SPpartEngine-GRAD%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%230090ff%22%3E%3C%2Fstop%3E%3Cstop%20offset%3D%2250%25%22%20stop-color%3D%22%230000ff%22%3E%3C%2Fstop%3E%3C%2FlinearGradient%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdefs%3E%3C%2Fsvg%3E%60%3B%0A%20%20%20%20%20%20document.body.append(grad)%3B%0A%20%20%20%20%7D%0A%20%20%20%20add2Body()%3B%0A%20%20%20%20if%20(!SB%3F.SPgradients%3F.patched)%20%7B%0A%20%20%20%20%20%20%2F*%20Gradient%20Patch%20by%20SharkPool%2C%20inspired%20by%200znzw%20*%2F%0A%20%20%20%20%20%20SB.SPgradients%20%3D%20%7B%20gradientUrls%3A%20new%20Map()%2C%20patched%3A%20true%20%7D%3B%0A%20%20%20%20%20%20const%20ogBlockRender%20%3D%20SB.BlockSvg.prototype.render%3B%0A%20%20%20%20%20%20SB.BlockSvg.prototype.render%20%3D%20function(...args)%20%7B%0A%20%20%20%20%20%20%20%20const%20result%20%3D%20ogBlockRender.apply(this%2C%20args)%3B%0A%20%20%20%20%20%20%20%20const%20grad%20%3D%20SB.SPgradients.gradientUrls.get(this.type.slice(0%2C%20this.type.indexOf(%22_%22)))%3B%0A%20%20%20%20%20%20%20%20if%20(grad%20%26%26%20this%3F.svgPath_%20%26%26%20this%3F.category_)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20svg%20%3D%20this.svgPath_%3B%0A%20%20%20%20%20%20%20%20%20%20const%20fill%20%3D%20svg.getAttribute(%22fill%22)%3B%0A%20%20%20%20%20%20%20%20%20%20this.svgPath_.setAttribute(%0A%20%20%20%20%20%20%20%20%20%20%20%20fill%20%3D%3D%3D%20grad.check%20%7C%7C%20fill%20%3D%3D%3D%20grad.path%20%3F%20%22fill%22%20%3A%20%22stroke%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20grad.path%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20SB.SPgradients.gradientUrls.set(%22SPpartEngine%22%2C%20%7B%20path%3A%20%22url(%23SPpartEngine-GRAD)%22%2C%20check%3A%20color1%20%7D)%3B%0A%20%20%7D)%3B%0A%0A%20%20Scratch.extensions.register(new%20SPpartEngine())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20GPU.sb3%0A%2F%2F%20ID%3A%20gpusb3%0A%2F%2F%20Description%3A%20Use%20WebGPU%20compute%20shaders%20to%20accelerate%20your%20projects.%0A%2F%2F%20By%3A%20derpygamer2142%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2Finsanetaco2000%2F%3E%0A%2F%2F%20License%3A%20MIT%20%2B%20MPL2.0%0A%0A%2F**%0A%20*%20This%20project%20is%20dual%20licensed%20under%20MPL-2.0%20and%20MIT.%0A%20*%2F%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0A%20%20%20%20throw%20new%20Error(%22This%20extension%20must%20run%20unsandboxed.%22)%3B%0A%20%20%7D%0A%0A%20%20let%20buffersExt%3B%0A%20%20%2F%2F%20let%20penPlus%3B%0A%20%20%2F%2F%20penPlus%20%3D%20Scratch.vm.runtime.ext_obviousalexc_penPlus%0A%20%20%2F%2F%20load%20exposed%20extension%20stuff%0A%20%20Scratch.vm.runtime.on(%22EXTENSION_ADDED%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20buffersExt%20%3D%20Scratch.vm.runtime.ext_0znzwBuffers%3B%0A%20%20%7D)%3B%0A%20%20let%20shaders%20%3D%20%7B%7D%3B%0A%20%20let%20error%20%3D%20%7B%7D%3B%0A%20%20let%20resources%20%3D%20%7B%0A%20%20%20%20buffers%3A%20%7B%7D%2C%0A%20%20%20%20bindGroups%3A%20%7B%7D%2C%0A%20%20%20%20bindGroupLayouts%3A%20%7B%7D%2C%0A%20%20%20%20bufferRefs%3A%20%7B%7D%2C%20%2F%2F%20deprecated%2C%20not%20used%20anywhere%20anymore%0A%20%20%20%20arrayBuffers%3A%20%7B%7D%2C%0A%20%20%20%20views%3A%20%7B%7D%2C%0A%20%20%20%20textures%3A%20%7B%7D%2C%20%2F%2F%20webgpu%20texture%20objects%2C%20actual%20images%20will%20be%20yoinked%20from%20~~the%20pen%2B%20costume%20library(if%20available)~~(scrapped%20idea%2C%20too%20complicated)%20and%20costume%20list%0A%20%20%20%20samplers%3A%20%7B%7D%2C%0A%20%20%7D%3B%0A%20%20let%20currentBindGroup%20%3D%20%22%22%3B%0A%20%20let%20currentBindGroupLayout%20%3D%20%22%22%3B%0A%0A%20%20class%20GPUSb3%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22gpusb3%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20%22GPU.sb3%22%2C%0A%0A%20%20%20%20%20%20%20%20color1%3A%20%22%234287f5%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23166af2%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%23032966%22%2C%0A%20%20%20%20%20%20%20%20docsURI%3A%20%22https%3A%2F%2Fextensions.derpygamer2142.com%2Fdocs%2Fgpusb3%22%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22compileHat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.EVENT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Define%20shader%20%5BNAME%5D%20using%20bind%20group%20layout%20%5BBGL%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myShader%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BGL%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myBindGroupLayout%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22compileStart%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22compile%20shaders%20%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22onError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.EVENT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22when%20error%20thrown%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22clearError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22clear%20current%20error%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22error%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Error%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22init%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Reconnect%20to%20GPU%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22runGPU%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Run%20shader%20%5BGPUFUNC%5D%20using%20bind%20group%20%5BBINDGROUP%5D%20dimensions%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20z%3A%20%5BZ%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20GPUFUNC%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myShader%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BINDGROUP%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myBindGroup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20%22label%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Data%20input%20blocks%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createBindGroupLayout%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.CONDITIONAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Create%20bind%20group%20layout%20called%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myBindGroupLayout%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22bindGroupLayoutEntry%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Add%20bind%20group%20layout%20entry%20with%20binding%20%5BBINDING%5D%20for%20type%20%5BTYPE%5D%20and%20descriptor%20%5BDESC%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BINDING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22BGLENTRYTYPES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22buffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DESC%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22bufferEntryDescriptor%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20note%20to%20self%3A%20this%20text%20is%20correct%2C%20there's%20a%20different%20descriptor%20for%20each%20type%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Buffer%20layout%20entry%20descriptor%20with%20usage%20type%20%5BTYPE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22BUFFERENTRYTYPE%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22textureEntryDescriptor%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20note%20to%20self%3A%20this%20text%20is%20correct%2C%20there's%20a%20different%20descriptor%20for%20each%20type%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Texture%20layout%20entry%20descriptor%20with%20usage%20type%20%5BTYPE%5D%20and%20format%20%5BFORMAT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22TEXTUREENTRYTYPE%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FORMAT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22TEXTURECOLORFORMATS%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22samplerEntryDescriptor%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20note%20to%20self%3A%20this%20text%20is%20correct%2C%20there's%20a%20different%20descriptor%20for%20each%20type%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Sampler%20layout%20entry%20descriptor%20with%20sample%20type%20%5BTYPE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22SAMPLERENTRYTYPE%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createBindGroup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.CONDITIONAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Create%20bind%20group%20called%20%5BNAME%5D%20using%20layout%20%5BLAYOUT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myBindGroup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20LAYOUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myBindGroupLayout%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22bindGroupEntry%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Add%20bind%20group%20entry%20with%20binding%20%5BBINDING%5D%20of%20type%20%5BTYPE%5D%20using%20resource%20named%20%5BRESOURCE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BINDING%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22BGLENTRYTYPES%22%2C%20%2F%2F%20this%20is%20named%20badly%20ig%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22buffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20RESOURCE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Create%20buffer%20called%20%5BNAME%5D%20with%20size(in%20bytes)%20%5BSIZE%5D%20and%20usage%20flags%20%5BUSAGE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SIZE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%208%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20USAGE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20140%2C%20%2F%2F%20GPUBufferUsage.STORAGE%20%7C%20GPUBufferUsage.COPY_SRC%20%7C%20GPUBufferUsage.COPY_DST%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fwww.w3.org%2FTR%2Fwebgpu%2F%23buffer-usage%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22bufferUsage%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Buffer%20usage%20%5BUSAGE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20USAGE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22BUFFERUSAGE%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22STORAGE%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createTexture%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Create%20texture%20called%20%5BNAME%5D%20width%20dimensions%20%5BWIDTH%5D%20%5BHEIGHT%5D%2C%20color%20format%20%5BFORMAT%5D%20and%20usage%20%5BUSAGE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myTexture%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WIDTH%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20150%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20HEIGHT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20150%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FORMAT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22TEXTURECOLORFORMATS%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20USAGE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%206%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fwww.w3.org%2FTR%2Fwebgpu%2F%23buffer-usage%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22textureUsage%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Texture%20usage%20%5BUSAGE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20USAGE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22TEXTUREUSAGE%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22STORAGE_BINDING%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20I%20found%20out%20after%20implementing%20this%20that%20texture%20samplers%20don't%20work%20in%20compute%20shaders%20%3A%2C)%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createSampler%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Create%20texture%20sampler%20called%20%5BNAME%5D%20with%20U%20address%20mode%20%5BUMODE%5D%20and%20v%20address%20mode%20%5BVMODE%5D%20and%20mag%20filter%20%5BMAGFILTER%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22mySampler%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20UMODE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22ADDRESSMODES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VMODE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22ADDRESSMODES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MAGFILTER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22FILTERMODES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22binaryOr%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Usage%20%5BA%5D%20%7C%20%5BB%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20A%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20128%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20B%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%204%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20todo%3A%20add%20more%20typed%20arrays%20and%20maybe%20arbitrary%20data%20or%20something%20idk%20man%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fwebidl.spec.whatwg.org%2F%23AllowSharedBufferSource%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22genF32%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22F32%20array%20from%20array%20%5BARRAY%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAY%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20JSON.stringify(%5B1%2C%202%2C%203%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22copyTextureToBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Copy%20texture%20%5BTEXTURE%5D%20to%20buffer%20%5BBUFFER%5D%20with%20dimensions%20%5BWIDTH%5D%20%5BHEIGHT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXTURE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myTexture%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BUFFER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WIDTH%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2015%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20HEIGHT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2015%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22writeBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Write%20%5BSIZE%5D%20elements%20of%20data%20from%20arraybuffer%20%5BARRAY%5D%20to%20buffer%20%5BBUFFER%5D%20from%20offset%20%5BOFF1%5D%20to%20offset%20%5BOFF2%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SIZE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fwww.w3.org%2FTR%2Fwebgpu%2F%23dom-gpuqueue-writebuffer%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20in%20elements%20for%20typesarrays%20and%20bytes%20otherwise%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%203%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAY%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BUFFER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20OFF1%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20OFF2%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2FhideFromPalette%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22copyBufferToBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Copy%20%5BNUMBYTES%5D%20bytes%20of%20data%20from%20buffer%20%5BBUF1%5D%20from%20%20position%20%5BBUF1OFF%5D%20to%20buffer%20%5BBUF2%5D%20at%20position%20%5BBUF2OFF%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NUMBYTES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20256%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BUF1%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myBuffer1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BUF1OFF%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20IMPORTANT%3A%20THIS%20IS%20IN%20BYTES!!!!!!!!!%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BUF2%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myBuffer2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BUF2OFF%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20IMPORTANT%3A%20THIS%20IS%20IN%20BYTES!!!!!!!!!%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22clearBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Clear%20%5BNUMBYTES%5D%20bytes(-1%20for%20all)%20of%20buffer%20%5BBUFFER%5D%20from%20offset%20%5BOFFSET%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NUMBYTES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20128%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BUFFER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20OFFSET%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20128%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22readBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Read%20buffer%20%5BBUFFER%5D%20to%20arraybuffer%20%5BARRAYBUFFER%5D%22%2C%20%2F%2F%20todo%3A%20add%20an%20output%20type%20here%2C%20not%20just%20f32s%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BUFFER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAYBUFFER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myArrayBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22writeTexture%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Write%20texture%20data%20from%20%5BIMAGE%5D%20to%20texture%20%5BTEXTURE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20IMAGE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22IMAGELIST%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXTURE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myTexture%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20%22label%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22ArrayBuffer%20blocks%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22listABs%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22List%20arraybuffers%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createAB%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Create%20arraybuffer%20called%20%5BARRAYBUFFER%5D%20with%20length%20%5BLENGTH%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAYBUFFER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myArrayBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20LENGTH%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2016%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createABFromArray%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Create%20arraybuffer%20and%20view%20called%20%5BARRAYBUFFER%5D%20from%20array%20%5BARRAY%5D%20of%20type%20%5BTYPE%5D%20%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAYBUFFER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myArrayBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAY%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%5B1%2C2%2C3%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22TYPEDARRAYTYPES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteAB%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Delete%20arraybuffer%20%5BARRAYBUFFER%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAYBUFFER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myArrayBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resizeAB%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Resize%20arraybuffer%20%5BARRAYBUFFER%5D%20to%20%5BSIZE%5D%20bytes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAYBUFFER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22ARRAYBUFFERS%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SIZE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2016%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22listViews%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22List%20views%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createABView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22View%20arraybuffer%20%5BARRAYBUFFER%5D%20as%20%5BTYPE%5D%20called%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAYBUFFER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22ARRAYBUFFERS%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22TYPEDARRAYTYPES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Delete%20view%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setItemInView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Set%20item%20%5BINDEX%5D%20of%20view%20%5BVIEW%5D%20to%20%5BVALUE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INDEX%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VIEW%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20255%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Copy%20data%20from%20array%20%5BARRAY%5D%20to%20view%20%5BVIEW%5D%20from%20index%20%5BINDEX%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAY%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%5B1%2C2%2C3%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VIEW%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INDEX%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22fillView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Fill%20items%20%5BSTART%5D%20to%20%5BEND%5D%20of%20view%20%5BVIEW%5D%20with%20%5BVALUE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20START%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20END%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%205%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VIEW%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%203%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22itemOfView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Item%20%5BINDEX%5D%20of%20arraybuffer%20view%20%5BVIEW%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INDEX%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VIEW%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22sliceView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Items%20%5BSTART%5D%20to%20%5BEND%5D%20of%20view%20%5BVIEW%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20START%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20END%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%203%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VIEW%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22viewToArray%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Get%20view%20%5BVIEW%5D%20as%20array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VIEW%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22propFromView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BPROP%5D%20of%20view%20%5BVIEW%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PROP%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22TYPEDARRAYPROPS%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VIEW%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myView%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20%22label%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22WGSL%20Blocks%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22declareVar%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22declare%20%5BVARTYPE%5D%20variable%20as%20%5BNAME%5D%20with%20value%20%5BVALUE%5D%3A%20%5BTYPE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VARTYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22VARTYPES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22var%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22someVariable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2012%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22TYPES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22auto%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22bindInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Bind%20shader%20resource%20%23%20%5BBINDNUM%5D%20to%20variable%20%5BVARNAME%5D%20with%20settings%20%5BSETTINGS%5D%20type%20%5BINPUTTYPE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BINDNUM%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VARNAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22data%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SETTINGS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22storage%2C%20read_write%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTTYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22array%3Cf32%3E%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22variableUsage%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Variable%20usage%20%5BUSAGE%5D%20next%20%5BNEXT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20USAGE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22VARUSAGE%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22read_write%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NEXT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22varOp%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Variable%20%5BVARNAME%5D%20%5BVAROP%5D%20%20%5BINPUT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VARNAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22someVariable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VAROP%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22VAROPS%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%2B%3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%228%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getVar%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Get%20variable%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22someVariable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20%22label%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%20%20%20%20%20%20%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22variablePointer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Pointer%20to%20variable%20%5BVAR%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VAR%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myVariable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22indexObject%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22In%20object%20%5BARRAY%5D%20get%20index%20%5BINDEX%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAY%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22someArray%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INDEX%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getProp%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22In%20object%20%5BOBJECT%5D%20get%20property%20%5BPROP%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20OBJECT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22someObject%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PROP%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22constructFromType%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Construct%20type%20%5BTYPE%5D%20with%20values%20%5BVALUES%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22RAWTYPES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22f32%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22typeConstructor%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Create%20type%20%5BTYPE%5D%20of%20%5BSUBTYPE%5D%2C%20length(array%20only!)%20%5BLENGTH%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22CONSTRUCTABLETYPES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22vec3%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SUBTYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20LENGTH%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22matrixType%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Matrix%20type%20with%20%5BCOLUMNS%5D%20columns%20and%20%5BROWS%5D%20rows%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLUMNS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ROWS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22textureType%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Texture%20type%20of%20%5BTYPE%5D%20with%20access%20%5BACCESS%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22TEXTURECOLORFORMATS%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ACCESS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22VARIABLEACCESSTYPES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22declareStruct%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.CONDITIONAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Declare%20struct%20called%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22MyStruct%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22structProperty%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Add%20property%20called%20%5BPROPERTY%5D%20with%20type%20%5BTYPE%5D%20to%20struct%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PROPERTY%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22someProperty%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22f32%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22RAWTYPES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22structType%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Type%20of%20struct%20%5BSTRUCT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRUCT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22MyStruct%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%2C%20%2F%2F%20this%20doesn't%20work%20with%20compute%20shaders%2C%20but%20if%20i%20decide%20to%20get%20freaky%20and%20somehow%20add%20other%20shader%20types(i%20probably%20won't)%20why%20redo%20code%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22samplerType%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Sampler%20type%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22rootType%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Base%20type%20%5BTYPE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22RAWTYPES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22f32%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20%22label%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%20%20%20%20%20%20%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22wgslFunc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22WGSL%20builtin%20%5BOPERATION%5D%20with%20args%20%5BVALUE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20OPERATION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22WGSLFUNCS%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22trunc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2212.345%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22funcArgs%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Func%20arg%20input%20%5BARG%5D%2C%20next%20%5BNEXT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARG%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20yee%20haw%20i'm%20a%20pirate%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2215%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NEXT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22computeFunc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.CONDITIONAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Computer%20shader%20with%20workgroup%20size%20%5BWGSIZE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WGSIZE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20JSON.stringify(%5B1%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20branchCount%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22wgslForLoop%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.CONDITIONAL%2C%20%2F%2F%20this%20isn't%20a%20conditional%20%3Atrol%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22For%20%5BVARNAME%5D%20in%20range%20%5BSTART%5D%2C%20%5BEND%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VARNAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22i%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20START%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20END%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20branchCount%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22wgslWhileLoop%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.CONDITIONAL%2C%20%2F%2F%20this%20isn't%20a%20conditional%20%3Atrol%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22While%20%5BCOND%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COND%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20branchCount%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22break%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isTerminal%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22break%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22continue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isTerminal%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22continue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22defFunc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.CONDITIONAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Def%20function%20%5BFUNCNAME%5D%20that%20returns%20type%20%5BTYPE%5D%20with%20args%20%5BARGS%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FUNCNAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myFunc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22FUNCTYPES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22void%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%2F*%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARGS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D*%2F%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22defFuncArgs%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Def%20arg%20%5BARGNAME%5D%3A%20%5BARGTYPE%5D%2C%20next%20%5BNEXTARG%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARGNAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22someArg%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARGTYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22RAWTYPES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22i32%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NEXTARG%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getFuncArg%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Get%20function%20arg%20%5BARGNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARGNAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22someArg%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22funcReturn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isTerminal%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Return%20%5BTORETURN%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TORETURN%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22c_runFunc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Run%20function%20%5BFUNCNAME%5D%20with%20args%20%5BARGS%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FUNCNAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myFunc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARGS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22r_runFunc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Run%20function%20%5BFUNCNAME%5D%20with%20args%20%5BARGS%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FUNCNAME%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myFunc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARGS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20%22label%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Thread%20safety%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22atomicType%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Create%20atomic%20of%20type%20%5BBASE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BASE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22i32%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22ATOMICBASES%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22atomicLoad%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Load%20atomic%20%5BATOMIC%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ATOMIC%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myAtomic%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22c_atomicFunc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Perform%20operation%20%5BOP%5D%20on%20atomic%20%5BATOMIC%5D%20with%20value%20%5BVALUE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20OP%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22ATOMICFUNCTIONS%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22atomicStore%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ATOMIC%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myAtomic%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2015%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22r_atomicFunc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Perform%20operation%20%5BOP%5D%20on%20atomic%20%5BATOMIC%5D%20with%20value%20%5BVALUE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20OP%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22ATOMICFUNCTIONS%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22atomicStore%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ATOMIC%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22myAtomic%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2015%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22barrier%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Barrier%20%5BTYPE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22BARRIERFUNCTIONS%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20%22label%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%20%20%20%20%20%20%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22c_arbitraryWGSL%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Arbitrary%20WGSL%20%5BTEXT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22r_arbitraryWGSL%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Arbitrary%20WGSL%20%5BTEXT%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20TYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%20%2F%2F%20i%20don't%20like%20this%2C%20but%20with%20acceptReporters%20as%20false%20it%20shows%20up%20in%20fields%20and%20not%20inputs.%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22i32%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22u32%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f32%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bool%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22auto%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20f16%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20VARTYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22var%22%2C%20%22let%22%2C%20%22const%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20VAROPS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%2B%3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22-%3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22*%3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%2F%3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%25%3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%26%3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%7C%3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%5E%3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%3E%3E%3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%3C%3C%3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20WGSLFUNCS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20every%20WGSL%20builtin%20function%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22all%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22any%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22arrayLength%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22asinh%22%2C%20%2F%2F%20screw%20atomics%2C%20i%20can%20add%20them%20later%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bitcast%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bool%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cosh%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22countLeadingZeros%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22countOneBits%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22countTrailingZeros%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22degrees%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22determinant%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F*%22dpdx%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dpdxCoarse%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dpdxFine%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dpdy%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dpdyCoarse%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dpdyFine%22%2C*%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22exp%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22exp2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f32%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22firstLeadingBit%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22firstTrailingBit%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22fract%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22frexp%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22i32%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22inverseSqrt%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22length%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22log%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22log2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22modf%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22normalize%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pack2x16float%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pack2x16snorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pack2x16unorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pack4x8snorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pack4x8unorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22quantizeToF16%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22radians%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22reverseBits%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22saturate%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sign%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sinh%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22tanh%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22textureDimensions%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22textureLoad%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22textureStore%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%22textureSample%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%22textureSampleBaseClampToEdge%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%22textureSampleBias%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%22textureSampleCompare%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%22textureSampleCompareLevel%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22textureNumLayers%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22textureNumLevels%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22textureNumSamples%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22transpose%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22trunc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22u32%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22unpack2x16float%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22unpack2x16snorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22unpack2x16unorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22unpack4x8snorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22unpack4x8unorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20FUNCTYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22i32%22%2C%20%22u32%22%2C%20%22f32%22%2C%20%22bool%22%2C%20%22void%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20RAWTYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22i32%22%2C%20%22u32%22%2C%20%22f32%22%2C%20%22bool%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20BGLENTRYTYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22buffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22storageTexture%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%22sampler%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20CONSTRUCTABLETYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22vec2%22%2C%20%22vec3%22%2C%20%22vec4%22%2C%20%22array%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20BUFFERUSAGE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22COPY_SRC%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22COPY_DST%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22MAP_READ%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22MAP_WRITE%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22QUERY_RESOLVE%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22STORAGE%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UNIFORM%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20BUFFERENTRYTYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20why%20does%20one%20buffer%20need%20so%20much%20data%20man%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22read-only-storage%22%2C%20%22storage%22%2C%20%22uniform%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20VARUSAGE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fwww.w3.org%2FTR%2FWGSL%2F%23var-and-value%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fwww.w3.org%2FTR%2FWGSL%2F%23enumerant%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20i%20hate%20this%20documentation%20so%20much%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20it%20took%20me%2020%20minutes%20to%20find%20any%20explanations%20of%20what%20these%20enumerators%20do%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20even%20then%20they're%20pretty%20bad%20and%20don't%20give%20a%20concrete%20answer%20for%20each%20one%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20some%20of%20these%20are%20just%20here%20in%20case%20someone%20wants%20them%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20who%20understands%20how%20they%20work%20better%20than%20i%20do%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22read%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22write%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22read_write%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22function%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22private%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22workgroup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22uniform%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22storage%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20ATOMICBASES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22i32%22%2C%20%22u32%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20ATOMICFUNCTIONS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fhttps%3A%2F%2Fwww.w3.org%2FTR%2FWGSL%2F%23atomic-builtin-functions%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22atomicStore%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22atomicAdd%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22atomicSub%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22atomicMax%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22atomicMin%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22atomicAnd%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22atomicOr%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22atomicXor%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22atomicExchange%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22atomicCompareExchangeWeak%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20BARRIERFUNCTIONS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22storageBarrier%22%2C%20%22workgroupBarrier%22%2C%20%22textureBarrier%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20TYPEDARRAYTYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Int32Array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Uint32Array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Float32Array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20webgpu%20doesn't%20support%20types%20below%20this%20comment%2C%20but%20people%20may%20want%20to%20access%20them%20using%20those%20types%20anyways%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Int8Array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Uint8Array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Uint8ClampedArray%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Int16Array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Uint16Array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%22Float16Array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20float16array%20is%20only%20available%20in%20firefox%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BigInt64Array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BigUint64Array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Float64Array%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20ARRAYBUFFERS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getArrayBuffersMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20TYPEDARRAYPROPS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22BYTES_PER_ELEMENT%22%2C%20%22byteLength%22%2C%20%22length%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20TEXTURECOLORFORMATS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fwww.w3.org%2FTR%2Fwebgpu%2F%23enumdef-gputextureformat%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20some%20formats%20aren't%20supported(i%20think%3F)%2C%20and%20depth%20textures%20aren't%20usable%20in%20compute%20shaders%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%208-bit%20formats%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22r8unorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22r8snorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22r8uint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22r8sint%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2016-bit%20formats%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22r16uint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22r16sint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22r16float%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rg8unorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rg8snorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rg8uint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rg8sint%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2032-bit%20formats%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22r32uint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22r32sint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22r32float%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rg16uint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rg16sint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rg16float%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rgba8unorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%22rgba8unorm-srgb%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rgba8snorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rgba8uint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rgba8sint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bgra8unorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bgra8unorm-srgb%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Packed%2032-bit%20formats%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%22rgb9e5ufloat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%22rgb10a2uint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%22rgb10a2unorm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%22rg11b10ufloat%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2064-bit%20formats%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rg32uint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rg32sint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rg32float%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rgba16uint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rgba16sint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rgba16float%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20128-bit%20formats%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rgba32uint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rgba32sint%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22rgba32float%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20TEXTUREUSAGE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fwww.w3.org%2FTR%2Fwebgpu%2F%23dom-gputextureusage-storage_binding%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22COPY_SRC%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22COPY_DST%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22TEXTURE_BINDING%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22STORAGE_BINDING%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20RENDER_ATTACHMENT%20intentionally%20excluded%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20IMAGELIST%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getImageList%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20ADDRESSMODES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22clamp-to-edge%22%2C%20%22repeat%22%2C%20%22mirror-repeat%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20FILTERMODES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22nearest%22%2C%20%22filter%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20TEXTUREENTRYTYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22write-only%22%2C%20%22read-only%22%2C%20%22read-write%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20SAMPLERENTRYTYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22float%22%2C%20%22unfilterable-float%22%2C%20%22sint%22%2C%20%22uint%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20TEXTUREBASETYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22f32%22%2C%20%22i32%22%2C%20%22u32%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20VARIABLEACCESSTYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22read%22%2C%20%22write%22%2C%20%22read_write%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20throwError(errorname%2C%20errorbody%2C%20errorsource%2C%20full%2C%20util)%20%7B%0A%20%20%20%20%20%20error%20%3D%20%7B%0A%20%20%20%20%20%20%20%20name%3A%20errorname%20%3F%3F%20%22Undefined.%20This%20is%20an%20error%2C%20please%20report%20it!%22%2C%0A%20%20%20%20%20%20%20%20body%3A%20errorbody%20%3F%3F%20%22Undefined.%20This%20is%20an%20error%2C%20please%20report%20it!%22%2C%0A%20%20%20%20%20%20%20%20source%3A%20errorsource%20%3F%3F%20%22Undefined.%20This%20is%20an%20error%2C%20please%20report%20it!%22%2C%0A%20%20%20%20%20%20%20%20full%3A%20full%20%3F%3F%20%22Undefined.%20This%20is%20an%20error%2C%20please%20report%20it!%22%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20console.error(error)%3B%0A%20%20%20%20%20%20if%20(util)%20%7B%0A%20%20%20%20%20%20%20%20util.startHats(%22gpusb3_onError%22)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20Scratch.vm.runtime.startHats(%22gpusb3_onError%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20async%20init(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0A%20%20%20%20%20%20if%20(!navigator.gpu)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20why%20angry%20red%20lines%20%3E%3A%20(%0A%20%20%20%20%20%20%20%20alert(%22WebGPU%20is%20not%20supported.%22)%3B%0A%20%20%20%20%20%20%20%20throw%20new%20Error(%22WebGPU%20is%20not%20supported.%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0A%20%20%20%20%20%20this.adapter%20%3D%20await%20navigator.gpu.requestAdapter()%3B%0A%20%20%20%20%20%20if%20(!this.adapter)%20%7B%0A%20%20%20%20%20%20%20%20alert(%22Failed%20to%20get%20WebGPU%20adapter.%22)%3B%0A%20%20%20%20%20%20%20%20throw%20Error(%22Failed%20to%20get%20WebGPU%20adapter.%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.device%20%3D%20await%20this.adapter.requestDevice()%3B%0A%20%20%20%20%20%20this.device.lost.then((info)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%22DeviceLost%22%2C%20info.message%2C%20%22wgpu%22%2C%20info%2C%20util)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%2F%2F%20note%20to%20self%3A%20uncomment%20this%20on%20release%0A%20%20%20%20%20%20%2F*this.device.addEventListener(%22uncapturederror%22%2C(event)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%22UnclassifiedError%22%2Cevent.error.message%2C%22Unknown%22%2Cevent.error)%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)*%2F%0A%20%20%20%20%7D%0A%0A%20%20%20%20textFromOp(util%2C%20blob%2C%20unsafe)%20%7B%0A%20%20%20%20%20%20%2F%2F%20i%20can't%20remember%20if%20blocks%20is%20_blocks%2C%20so%20i'm%20just%20getting%20it%20again%0A%20%20%20%20%20%20const%20_blocks%20%3D%20util.thread.blockContainer._blocks%3B%0A%20%20%20%20%20%20switch%20(blob.block)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22text%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fconsole.log(_blocks%5Bblob.id%5D)%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.TEXT.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20%22math_number%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.NUM.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_VARTYPES%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.VARTYPES.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_VAROPS%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.VAROPS.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_TYPES%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.TYPES.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_WGSLFUNCS%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.WGSLFUNCS.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_FUNCTYPES%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.FUNCTYPES.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_RAWTYPES%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.RAWTYPES.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_BGLENTRYTYPES%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.BGLENTRYTYPES.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_CONSTRUCTABLETYPES%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.CONSTRUCTABLETYPES.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_BUFFERUSAGE%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.BUFFERUSAGE.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_BUFFERENTRYTYPE%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.BUFFERENTRYTYPE.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_VARUSAGE%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.VARUSAGE.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_ATOMICBASES%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.ATOMICBASES.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_ATOMICFUNCTIONS%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.ATOMICFUNCTIONS.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_BARRIERFUNCTIONS%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.BARRIERFUNCTIONS.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_TEXTUREBASETYPES%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.TEXTUREBASETYPES.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_samplerType%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%22sampler%22%3B%20%2F%2F%20the%20codesmell%20here%20is%20crazy%20but%20this%20should%20work%20well%20enough%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_VARIABLEACCESSTYPES%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.VARIABLEACCESSTYPES.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20case%20%22gpusb3_menu_TEXTURECOLORFORMATS%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_blocks%5Bblob.id%5D.fields.TEXTURECOLORFORMATS.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20default%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(unsafe)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22MissingOp%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Input%20type%20not%20found%2C%20did%20you%20forget%20to%20add%20a%20menu%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22textFromOp%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Input%20type%20not%20found%2C%20did%20you%20forget%20to%20add%20a%20menu%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20console.log(blob)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20note%20to%20self%3A%20might%20need%20to%20check%20for%20raw%20inputs%20or%20fix%20that%20because%20if%20a%20block%20has%20no%20inputs%20the%20array%20compiler%20doesn't%20make%20it%20an%20array%0A%20%20%20%20%20%20%20%20%20%20return%20%22Input%20type%20not%20found!%22%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20findType(input)%20%7B%0A%20%20%20%20%20%20switch%20(typeof%20input)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22string%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(Number.isNaN(Number.parseFloat(input)))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20input.toLowerCase()%20%3D%3D%3D%20%22true%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20input.toLowerCase()%20%3D%3D%3D%20%22false%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22boolean%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(input.toLowerCase()%20%3D%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22undefined%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(input.toLowerCase()%20%3D%3D%3D%20%22null%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22null%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Error!%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this.findType(Number.parseFloat(input))%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20%22number%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(Number.isInteger(input))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22integer%22%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(Number.isNaN(input))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22NaN%22%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(!Number.isFinite(input))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22infinity%22%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22float%22%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20%22boolean%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%22boolean%22%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20%22undefined%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%22undefined%22%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20%22object%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(input%20%3D%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22null%22%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20resolveInput(util%2C%20block)%20%7B%0A%20%20%20%20%20%20return%20Array.isArray(block)%0A%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20block%2C%200)%0A%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20block%2C%20false)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20isStringified(text)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20JSON.parse(text)%3B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20genWGSL(util%2C%20blocks%2C%20recursionDepth)%20%7B%0A%20%20%20%20%20%20%2F%2F%20for%20those%20wondering%20about%20isGeneratingArgumentsBecauseTheOtherThingITriedDidntWork%2C%20see%20https%3A%2F%2Fgithub.com%2Fderpygamer2142%2Fexample-extensions-fork%2Fcommit%2Fbed128377314a95f6cf2775ed4771cf08d3f3e7e%0A%20%20%20%20%20%20let%20code%20%3D%20%22%22%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20blocks.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2Fconsole.log(code)%0A%20%20%20%20%20%20%20%20let%20b%20%3D%20blocks%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20if%20(Array.isArray(b))%20%7B%0A%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.genWGSL(util%2C%20blocks%5Bi%5D%2C%20recursionDepth%20%2B%201))%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(typeof%20b%20%3D%3D%3D%20%22object%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fconst%20op%20%3D%20b.block%0A%20%20%20%20%20%20%20%20%20%20%20%20switch%20(b.block)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22operator_equals%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.resolveInput(util%2C%20blocks%5Bi%20%2B%201%5D))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20%3D%3D%20%22)%3B%20%2F%2F%20temp%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.resolveInput(util%2C%20blocks%5Bi%20%2B%202%5D))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22)%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22operator_lt%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20%3C%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.resolveInput(util%2C%20blocks%5Bi%20%2B%202%5D))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22)%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22operator_gt%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20%3E%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.resolveInput(util%2C%20blocks%5Bi%20%2B%202%5D))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22)%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22operator_and%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20%26%26%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.resolveInput(util%2C%20blocks%5Bi%20%2B%202%5D))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22)%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22operator_or%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20%7C%7C%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.resolveInput(util%2C%20blocks%5Bi%20%2B%202%5D))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22)%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22operator_add%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20%2B%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.resolveInput(util%2C%20blocks%5Bi%20%2B%202%5D))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22)%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22operator_subtract%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20-%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.resolveInput(util%2C%20blocks%5Bi%20%2B%202%5D))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22)%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22operator_multiply%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20*%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.resolveInput(util%2C%20blocks%5Bi%20%2B%202%5D))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22)%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22operator_divide%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20%2F%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.resolveInput(util%2C%20blocks%5Bi%20%2B%202%5D))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22)%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22operator_mod%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.resolveInput(util%2C%20blocks%5Bi%20%2B%201%5D))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20%25%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.resolveInput(util%2C%20blocks%5Bi%20%2B%202%5D))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22)%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22operator_mathop%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20from%20https%3A%2F%2Fgithub.com%2FTurboWarp%2Fscratch-vm%2Fblob%2F11eec6604d766dc75fc5eb223b7bd31f167fee88%2Fsrc%2Fblocks%2Fscratch3_operators.js%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'abs'%3A%20return%20Math.abs(n)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'floor'%3A%20return%20Math.floor(n)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'ceiling'%3A%20return%20Math.ceil(n)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'sqrt'%3A%20return%20Math.sqrt(n)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'sin'%3A%20return%20Math.round(Math.sin((Math.PI%20*%20n)%20%2F%20180)%20*%201e10)%20%2F%201e10%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'cos'%3A%20return%20Math.round(Math.cos((Math.PI%20*%20n)%20%2F%20180)%20*%201e10)%20%2F%201e10%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'tan'%3A%20return%20MathUtil.tan(n)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'asin'%3A%20return%20(Math.asin(n)%20*%20180)%20%2F%20Math.PI%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'acos'%3A%20return%20(Math.acos(n)%20*%20180)%20%2F%20Math.PI%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'atan'%3A%20return%20(Math.atan(n)%20*%20180)%20%2F%20Math.PI%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'ln'%3A%20return%20Math.log(n)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'log'%3A%20return%20Math.log(n)%20%2F%20Math.LN10%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'e%20%5E'%3A%20return%20Math.exp(n)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20'10%20%5E'%3A%20return%20Math.pow(10%2C%20n)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20op%20%3D%20%22How%20do%20you%20mess%20up%20this%20badly%3F%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20actualop%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util.thread.blockContainer._blocks%5Bb.id%5D.fields.OPERATOR%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20switch%20(actualop)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22abs%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22abs%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22floor%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22floor%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22ceiling%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22ceil%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22sqrt%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22sqrt%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22sin%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22sin%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22cos%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22cos%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22tan%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22tan%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22asin%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22asin%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22acos%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22acos%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22atan%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22atan%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22ln%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22log%22%3B%20%2F%2F%20confusing%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22log%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22log%22%3B%20%2F%2F%20special%20behavior%20below%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22e%20%5E%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22exp%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%2210%20%5E%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%20%3D%20%22pow%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(op)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(op%20%3D%3D%3D%20%22pow%22%20%3F%20%22(10.0%2C%20%22%20%3A%20%22(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20actualop%20%3D%3D%3D%20%22log%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%22)%20%2F%20%22%20%2B%20Scratch.Cast.toString(Math.LN10)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%22)%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_wgslFunc%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error(%22Function%20should%20not%20have%20an%20input!%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Unexpected%20input%20in%20function%20input!%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%22error!%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F*if%20(this.textFromOp(util%2Cblocks%5Bi%2B1%5D%2Cfalse)%20%3D%3D%3D%20%22arrayLength%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%26%22)%20%2F%2F%20idk%20why%20you%20need%20this%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D*%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%202%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22)%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_funcArgs%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%202%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%2C%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%20!%3D%3D%20%22%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%2C%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_getVar%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%22_%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%20%2F%2F%20if%20your%20variable%20name%20is%20invalid%20it's%20your%20own%20fault%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_constructFromType%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%24%7BArray.isArray(blocks%5Bi%20%2B%201%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D(%24%7BArray.isArray(blocks%5Bi%20%2B%202%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D)%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_getProp%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%202%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22GetPropertyBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Get%20Property%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20code%20%2B%20%22Error!%20-%20compilation%20stopped%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%24%7BArray.isArray(blocks%5Bi%20%2B%201%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D.%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_indexObject%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fwww.w3.org%2FTR%2FWGSL%2F%23matrix-access-expr%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%24%7BArray.isArray(blocks%5Bi%20%2B%201%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D%5B%24%7BArray.isArray(blocks%5Bi%20%2B%202%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D%5D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_typeConstructor%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%24%7BArray.isArray(blocks%5Bi%20%2B%201%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D%3C%24%7BArray.isArray(blocks%5Bi%20%2B%202%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%203%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%2C%20%24%7Bthis.genWGSL(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20recursionDepth%20%2B%201)%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%20!%3D%3D%20%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%2C%20%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20false)%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%3E%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_rootType%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22RootTypeBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Root%20type%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20code%20%2B%20%22Error!%20-%20compilation%20stopped%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_matrixType%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%202%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22MatrixTypeBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Root%20type%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20code%20%2B%20%22Error!%20-%20compilation%20stopped%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60mat%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7Dx%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_defFuncArgs%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22DefFuncArgsBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Def%20func%20args%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20code%20%2B%20%22Error!%20-%20compilation%20stopped%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D%3A%20%24%7BArray.isArray(blocks%5Bi%20%2B%202%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%203%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%2C%20%24%7Bthis.genWGSL(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20recursionDepth%20%2B%201)%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_getFuncArg%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22GetFuncArgBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Get%20func%20arg%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20code%20%2B%20%22Error!%20-%20compilation%20stopped%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_r_runFunc%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22RunFuncBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Run%20func%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20code%20%2B%20%22Error!%20-%20compilation%20stopped%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60(%24%7BArray.isArray(blocks%5Bi%20%2B%202%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D)%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_variableUsage%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22VariableUsageBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Variable%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Unexpected%20input%20in%20variable%20usage!%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false))%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%202%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%2C%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_atomicLoad%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22atomicLoad(%22%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false))%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22)%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_atomicType%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22AtomicTypeBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Variable%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Unexpected%20input%20in%20variable%20usage!%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22atomic%3C%22%20%2B%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%20%2B%20%22%3E%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_r_atomicFunc%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22AtomicFunctionBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Variable%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Unexpected%20input%20in%20atomic%20function!%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D(%24%7BArray.isArray(blocks%5Bi%20%2B%202%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D%2C%20%24%7BArray.isArray(blocks%5Bi%20%2B%203%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%203%5D)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20false)%7D%20)%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_variablePointer%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%26%22%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_textureType%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60texture_storage_2d%3C%24%7BArray.isArray(blocks%5Bi%20%2B%201%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D%2C%20%24%7BArray.isArray(blocks%5Bi%20%2B%202%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D%3E%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_samplerType%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22sampler%22)%3B%20%2F%2F%20probably%20one%20of%20the%20simplest%20blocks%20here%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_structType%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22StructTypeBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20struct%20type%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Unexpected%20input%20in%20struct%20type%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false))%3B%20%2F%2F%20this%20is%20the%20same%20as%20some%20other%20blocks%2C%20but%20for%20simplicity%20reasons%20there%20are%20multiple%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22InvalidBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Invalid%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22genWGSL%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Invalid%20operator%20type%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Invalid%20operator!%20Did%20you%20forget%20the%20i%20%2B%3D%20(%23%20of%20inputs)%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks.slice(i%2C%20i%20%2B%205)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%20%2F%2F%20this%20is%20to%20idiot%20proof%20it%20from%20myself%2C%20me%20am%20big%20smort%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20code%20%2B%20%22Error!%20-%20compilation%20stopped%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20switch%20(b)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22control_if%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22if%20(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bi%20%2B%201%5D.length%20%3E%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%22true%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(blocks%5Bi%20%2B%201%5D.length%20%3C%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22MissingInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22If%20statement%20missing%20condition!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22IfBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22If%20statement%20missing%20condition%2C%20defaulting%20to%20true!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22)%20%7B%5Cn%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(blocks%5Bi%20%2B%202%5D.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%5Cn%7D%22)%3B%20%2F%2F%20newlines%20for%20some%20semblance%20of%20readability%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20did%20i%20spell%20that%20right%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22control_if_else%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22if%20(%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bi%20%2B%201%5D.length%20%3E%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%22true%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(blocks%5Bi%20%2B%201%5D.length%20%3C%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22MissingInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22If%20statement%20missing%20condition!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22IfBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22If%20statement%20missing%20condition%2C%20defaulting%20to%20true!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22)%20%7B%5Cn%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(blocks%5Bi%20%2B%202%5D.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%5Cn%7D%5Cnelse%20%7B%5Cn%22)%3B%20%2F%2F%20newlines%20for%20some%20semblance%20of%20readability%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(blocks%5Bi%20%2B%203%5D.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%5Cn%7D%5Cn%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_declareVar%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%60var%3C%24%7Bthis.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%7D%3E%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%202%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%22_%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20t%20%3D%20Array.isArray(blocks%5Bi%20%2B%204%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%204%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%204%5D%2C%20false)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(t%20!%3D%3D%20%22auto%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%3A%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(t)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!Array.isArray(blocks%5Bi%20%2B%203%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20t%20%3D%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20false)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fconsole.log(JSON.stringify(t)%2C%20t%20%3D%3D%20%22%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(t%20!%3D%20%22%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20%3D%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(t)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20%3D%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%3B%5Cn%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%204%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_varOp%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%202%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20for%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22VarOpBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Variable%20operation%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20code%20%2B%20%22Error!%20-%20compilation%20stopped%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%20%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D%20%24%7BArray.isArray(blocks%5Bi%20%2B%203%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20false)%7D%3B%5Cn%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_computeFunc%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40group(0)%20%40binding(0)%20var%3Cstorage%2C%20read_write%3E%20data%3A%20array%3Cf32%3E%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%60%0A%0A%40compute%20%40workgroup_size(%24%7BArray.isArray(blocks%5Bi%20%2B%201%5D)%20%3F%20%2264%22%20%3A%20this.isStringified(this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false))%20%3F%20JSON.parse(this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false))%20%3A%20%2264%22%7D)%20fn%20computeShader(%0A%0A%40builtin(workgroup_id)%20workgroup_id%20%3A%20vec3%3Cu32%3E%2C%0A%40builtin(local_invocation_id)%20local_invocation_id%20%3A%20vec3%3Cu32%3E%2C%0A%40builtin(global_invocation_id)%20global_invocation_id%20%3A%20vec3%3Cu32%3E%2C%0A%40builtin(local_invocation_index)%20local_invocation_index%3A%20u32%2C%0A%40builtin(num_workgroups)%20num_workgroups%3A%20vec3%3Cu32%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%5Cn%5Cn%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(blocks%5Bi%20%2B%202%5D.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22return%3B%5Cn%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%7D%5Cn%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_wgslForLoop%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20for%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ForLoopBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20For%20loop%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20code%20%2B%20%22Error!%20-%20compilation%20stopped%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%60%0Avar%20%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D%20%3D%20%24%7Bthis.resolveInput(util%2C%20blocks%5Bi%20%2B%202%5D)%7D%3B%0Aloop%20%7B%0Aif%20(%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D%20%3E%20%24%7Bthis.resolveInput(util%2C%20blocks%5Bi%20%2B%203%5D)%7D)%20%7B%0Abreak%3B%0A%7D%3B%0A%0A%60)%3B%20%2F%2F%20GOD%20FUCKING%20DAMN%20IT%20%22break%20if%20(condition)%22%20IS%20IN%20THE%20OFFICIAL%20SPEC%20WHY%20THE%20HELL%20IS%20IT%20INVALID%20THIS%20IS%20BULLSHIT%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20I%20HAD%20TO%20GO%20OUT%20OF%20MY%20WAY%20AND%20SPEND%2015%20SECONDS%20CHANGING%20THIS%20CODE%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(blocks%5Bi%20%2B%204%5D.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%204%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22break%3B%5Cn%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%24%7BArray.isArray(blocks%5Bi%20%2B%201%5D)%20%3F%20%22Error!%22%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D%2B%2B%3B%7D%5Cn%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%20%2F%2F%20newlines%20for%20some%20semblance%20of%20readability%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%204%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_wgslWhileLoop%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%60%0Awhile%20(%24%7BArray.isArray(blocks%5Bi%20%2B%201%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D)%20%7B%0A%0A%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(blocks%5Bi%20%2B%204%5D.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22break%3B%5Cn%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%60%7D%5Cn%60)%3B%20%2F%2F%20newlines%20for%20some%20semblance%20of%20readability%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20probably%20the%202%20most%20simple%20blocks%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_break%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22break%3B%5Cn%22)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_continue%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22continue%3B%5Cn%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_bindInput%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%202%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20for%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindResourceBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Bind%20resource%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20code%20%2B%20%22Error!%20-%20compilation%20stopped%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!Array.isArray(blocks%5Bi%20%2B%203%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20t%20%3D%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20false)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(t%20%3D%3D%20%22%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%40group(0)%20%40binding(%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D)%20var%20%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D)%7D%3A%20%24%7BArray.isArray(blocks%5Bi%20%2B%204%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%204%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%204%5D%2C%20false)%7D%3B%5Cn%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%40group(0)%20%40binding(%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D)%20var%3C%24%7Bt%7D%3E%20%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D)%7D%3A%20%24%7BArray.isArray(blocks%5Bi%20%2B%204%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%204%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%204%5D%2C%20false)%7D%3B%5Cn%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%40group(0)%20%40binding(%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D)%20var%3C%24%7Bthis.genWGSL(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20recursionDepth%20%2B%201)%7D%3E%20%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D)%7D%3A%20%24%7BArray.isArray(blocks%5Bi%20%2B%204%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%204%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%204%5D%2C%20false)%7D%3B%5Cn%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%204%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_defFunc%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20for%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22VarOpBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Function%20definition%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20code%20%2B%20%22Error!%20-%20compilation%20stopped%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60fn%20%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D(%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(blocks%5Bi%20%2B%203%5D%20!%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%203%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%202%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60)%20-%3E%20%24%7Bthis.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%20%3D%3D%3D%20%22void%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%22)%20%7B%5Cn%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%60)%20-%3E%20%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D%20%7B%5Cn%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(blocks%5Bi%20%2B%204%5D.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%204%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60return%20%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%20%3D%3D%3D%20%22void%22%20%3F%20%22%22%20%3A%20Array.isArray(blocks%5Bi%20%2B%202%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D()%3B%5Cn%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%20%2F%2F%20return%20a%20constructor%20for%20whatever%20type%20it%20should%20return%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%7D%5Cn%22)%3B%20%2F%2F%20newlines%20for%20some%20semblance%20of%20readability%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%204%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_funcReturn%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%60return%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%20!%3D%3D%20%22%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%20%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%22%3B%5Cn%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_c_runFunc%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20for%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22RunFuncBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Run%20function%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20code%20%2B%20%22Error!%20-%20compilation%20stopped%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60(%24%7BArray.isArray(blocks%5Bi%20%2B%202%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D)%3B%5Cn%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_c_arbitraryWGSL%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_r_arbitraryWGSL%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(blocks%5Bi%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20recursionDepth%20%2B%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_c_atomicFunc%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22AtomicFunctionBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Variable%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Unexpected%20input%20in%20atomic%20function!%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D(%24%7BArray.isArray(blocks%5Bi%20%2B%202%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D%2C%20%24%7BArray.isArray(blocks%5Bi%20%2B%203%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%203%5D)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%203%5D%2C%20false)%7D%20)%3B%5Cn%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_barrier%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20barrier%20block%20minecraft%3F%3F%3F%3F%3F%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BarrierBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20Barrier%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Unexpected%20input%20in%20barrier!%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%20%2B%20%22()%3B%5Cn%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_declareStruct%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22DeclareStructBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20struct%20declaration%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Unexpected%20input%20in%20struct%20declaration%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code.concat(%60struct%20%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D%20%7B%0A%24%7Bblocks%5Bi%20%2B%202%5D.length%20%3E%200%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%20%3A%20%22%22%7D%0A%7D%3B%5Cn%60)%3B%20%2F%2F%20this%20looks%20ugly%20but%20it%20formats%20the%20code%20correctly%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22gpusb3_structProperty%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(blocks%5Bi%20%2B%201%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22StructPropertyBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20in%20struct%20property%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Unexpected%20input%20in%20struct%20property%20name%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%20%3D%20code.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%24%7Bthis.textFromOp(util%2C%20blocks%5Bi%20%2B%201%5D%2C%20false)%7D%3A%20%24%7BArray.isArray(blocks%5Bi%20%2B%202%5D)%20%3F%20this.genWGSL(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20recursionDepth%20%2B%201)%20%3A%20this.textFromOp(util%2C%20blocks%5Bi%20%2B%202%5D%2C%20false)%7D%2C%5Cn%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20%2B%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22InvalidBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Invalid%20block!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22genWGSL%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Invalid%20block%2C%20WGSL%20generation%20failed!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Invalid%20block!%20Did%20you%20forget%20the%20i%20%2B%3D%20(%23%20of%20inputs)%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks.slice(i%2C%20i%20%2B%205)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20code%20%2B%20%22Error!%20-%20compilation%20stopped%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20code%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getBlockId(util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20this%20function%20is%20by%20CST1229%0A%20%20%20%20%20%20if%20(util.thread.isCompiled)%20%7B%0A%20%20%20%20%20%20%20%20return%20util.thread.peekStack()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20util.thread.peekStackFrame().op.id%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20genInputTree(util%2C%20thread%2C%20blocks%2C%20check%2C%20addCheck)%20%7B%0A%20%20%20%20%20%20if%20(JSON.stringify(blocks%5Bcheck%5D.inputs)%20%3D%3D%3D%20JSON.stringify(%7B%7D))%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20i%20wrote%20this%20code%20like%202%20months%20ago.%20i%20think%20it%20checks%20if%20all%20inputs%20are%20resolved%20and%20if%20it's%20a%20text%20block%20or%20something%2C%20but%20i%20can't%20remember%0A%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20block%3A%20blocks%5Bcheck%5D.opcode%2C%0A%20%20%20%20%20%20%20%20%20%20id%3A%20blocks%5Bcheck%5D.id%2C%0A%20%20%20%20%20%20%20%20%20%20isRaw%3A%20blocks%5Bcheck%5D.fields%20!%3D%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20isRaw%20is%20whether%20it's%20a%20math_number%20or%20whatever%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20let%20finalinputs%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20if%20(addCheck)%20%7B%0A%20%20%20%20%20%20%20%20%20%20finalinputs.push(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20block%3A%20blocks%5Bcheck%5D.opcode%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20blocks%5Bcheck%5D.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isRaw%3A%20blocks%5Bcheck%5D.fields%20!%3D%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20let%20inputs%20%3D%20Object.getOwnPropertyNames(blocks%5Bcheck%5D.inputs)%3B%0A%20%20%20%20%20%20%20%20%2F%2Ffinalinputs.push(inputs.length)%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20inputs.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20finalinputs.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20this.genInputTree(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20thread%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bcheck%5D.inputs%5Binputs%5Bi%5D%5D.block%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20finalinputs%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20genBlock(util%2C%20thread%2C%20blocks%2C%20block)%20%7B%0A%20%20%20%20%20%20let%20output%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20if%20(%5B%22text%22%2C%20%22math_number%22%5D.includes(blocks%5Bblock%5D.opcode))%20%7B%0A%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20block%3A%20blocks%5Bblock%5D.opcode%2C%0A%20%20%20%20%20%20%20%20%20%20id%3A%20blocks%5Bblock%5D.id%2C%0A%20%20%20%20%20%20%20%20%20%20isRaw%3A%20blocks%5Bblock%5D.fields%20!%3D%20%7B%7D%2C%20%2F%2F%20i%20can't%20remember%20if%20this%20does%20anything.%20i%20don't%20think%20it%20does%2C%20but%20just%20i%20added%20it%20just%20in%20case%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(!Object.prototype.hasOwnProperty.call(blocks%5Bblock%5D%2C%20%22inputs%22))%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20let%20heldInputs%20%3D%20structuredClone(blocks%5Bblock%5D.inputs)%3B%0A%20%20%20%20%20%20output.push(blocks%5Bblock%5D.opcode)%3B%0A%20%20%20%20%20%20if%20(Object.prototype.hasOwnProperty.call(heldInputs%2C%20%22SUBSTACK%22))%20%7B%0A%20%20%20%20%20%20%20%20delete%20heldInputs.SUBSTACK%3B%20%2F%2F%20this%20is%20a%20quick%20fix%20and%20probably%20won't%20play%20well%20with%20other%20extensions.%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(Object.prototype.hasOwnProperty.call(heldInputs%2C%20%22SUBSTACK2%22))%20%7B%0A%20%20%20%20%20%20%20%20delete%20heldInputs.SUBSTACK2%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(JSON.stringify(heldInputs)%20!%3D%20JSON.stringify(%7B%7D))%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20if%20the%20block%20takes%20inputs%20excluding%20SUBSTACK%20and%20SUBSTACK2%2C%20generate%20an%20input%20tree%20for%20it%0A%20%20%20%20%20%20%20%20%2F%2Foutput.push(Object.getOwnPropertyNames(heldInputs).length)%0A%20%20%20%20%20%20%20%20for%20(%0A%20%20%20%20%20%20%20%20%20%20let%20i%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20i%20%3C%20Object.getOwnPropertyNames(heldInputs).length%3B%0A%20%20%20%20%20%20%20%20%20%20i%2B%2B%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20output.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20this.genInputTree(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20thread%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20heldInputs%5BObject.getOwnPropertyNames(heldInputs)%5Bi%5D%5D.block%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20block.opcode%20%3D%3D%3D%20%22gpusb3_defFunc%22%20%26%26%0A%20%20%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(heldInputs%2C%20%22ARGS%22)%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20output.push(null)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(blocks%5Bblock%5D.inputs%2C%20%22SUBSTACK%22)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20output.push(%0A%20%20%20%20%20%20%20%20%20%20this.compile(%0A%20%20%20%20%20%20%20%20%20%20%20%20util%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20thread%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bblock%5D.inputs.SUBSTACK.block%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20true%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(blocks%5Bblock%5D.inputs%2C%20%22SUBSTACK2%22)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20support%20for%20n-number%20of%20branches%20is%20cringe%20and%20we%20don't%20need%20that%20kind%20of%20negativity%20in%20here%0A%20%20%20%20%20%20%20%20%2F%2F%20also%20no%20extensions%20in%20my%20pristine%20compiled%20hats%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bblock%5D.inputs%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22SUBSTACK%22%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20output.push(%5B%5D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20output.push(%0A%20%20%20%20%20%20%20%20%20%20this.compile(%0A%20%20%20%20%20%20%20%20%20%20%20%20util%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20thread%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bblock%5D.inputs.SUBSTACK2.block%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20true%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20output%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20compile(util%2C%20thread%2C%20blocks%2C%20firstblock%2C%20addStart)%20%7B%0A%20%20%20%20%20%20let%20output%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20let%20held%20%3D%20firstblock%3B%0A%20%20%20%20%20%20if%20(addStart)%20%7B%0A%20%20%20%20%20%20%20%20output%20%3D%20output.concat(this.genBlock(util%2C%20thread%2C%20blocks%2C%20held))%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20let%20next%20%3D%20blocks%5Bheld%5D.next%3B%0A%20%20%20%20%20%20while%20(next%20!%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20held%20%3D%20next%3B%0A%20%20%20%20%20%20%20%20next%20%3D%20blocks%5Bheld%5D.next%3B%0A%20%20%20%20%20%20%20%20output.push(blocks%5Bheld%5D.opcode)%3B%0A%20%20%20%20%20%20%20%20let%20heldInputs%20%3D%20structuredClone(blocks%5Bheld%5D.inputs)%3B%0A%20%20%20%20%20%20%20%20%2F%2Foutput.push(gpusb3Info.blocks.find((v)%20%3D%3E%20v.info.opcode%20%3D%3D%20blocks%5Bheld%5D.opcode)%3F.info%3F.blockType%20%3D%3D%3D%20%22reporter%22%20%26%26%20Object.getOwnPropertyNames(heldInputs).length%20%3C%201%20%3F%20%5Bblocks%5Bheld%5D.opcode%5D%20%3A%20blocks%5Bheld%5D.opcode)%0A%20%20%20%20%20%20%20%20if%20(Object.prototype.hasOwnProperty.call(heldInputs%2C%20%22SUBSTACK%22))%20%7B%0A%20%20%20%20%20%20%20%20%20%20delete%20heldInputs.SUBSTACK%3B%20%2F%2F%20this%20is%20a%20quick%20fix%20and%20probably%20won't%20play%20well%20with%20other%20extensions.%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20i%20will%20make%20a%20custom%20math%2Fblock%20system%20later%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(Object.prototype.hasOwnProperty.call(heldInputs%2C%20%22SUBSTACK2%22))%20%7B%0A%20%20%20%20%20%20%20%20%20%20delete%20heldInputs.SUBSTACK2%3B%20%2F%2F%20see%20previous%20comment%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20JSON.stringify(heldInputs)%20!%3D%20JSON.stringify(%7B%7D)%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22control_if%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22control_if_else%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22gpusb3_computeFunc%22%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20if%20the%20block%20takes%20inputs%20excluding%20SUBSTACK%20and%20SUBSTACK2%2C%20generate%20an%20input%20tree%20for%20it%0A%20%20%20%20%20%20%20%20%20%20%2F%2Foutput.push(Object.getOwnPropertyNames(heldInputs).length)%0A%20%20%20%20%20%20%20%20%20%20if%20(Object.getOwnPropertyNames(heldInputs).length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20output.push(%5B%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20props%20%3D%20Object.getOwnPropertyNames(heldInputs)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20props.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20output.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.genInputTree(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20thread%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20heldInputs%5BObject.getOwnPropertyNames(heldInputs)%5Bi%5D%5D.block%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20here%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22gpusb3_defFunc%22%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(heldInputs%2C%20%22ARGS%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20output.push(null)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.inputs%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22SUBSTACK%22%0A%20%20%20%20%20%20%20%20%20%20)%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22control_if%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22control_if_else%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22gpusb3_computeFunc%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22gpusb3_defFunc%22%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20(blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22control_if%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22gpusb3_computeFunc%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22gpusb3_defFunc%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22control_if_else%22)%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.inputs%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22SUBSTACK%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20output.push(%5B%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20output.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.compile(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20thread%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.inputs.SUBSTACK.block%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.inputs%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22SUBSTACK2%22%0A%20%20%20%20%20%20%20%20%20%20)%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22control_if_else%22%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20support%20for%20n-number%20of%20branches%20is%20cringe%20and%20we%20don't%20need%20that%20kind%20of%20negativity%20in%20here%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20also%20no%20extensions%20in%20my%20pristine%20compiled%20hats%0A%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.opcode%20%3D%3D%3D%20%22control_if_else%22%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.inputs%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22SUBSTACK2%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20output.push(%5B%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20output.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.compile(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20thread%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%5Bheld%5D.inputs.SUBSTACK2.block%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20output%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20async%20compileStart(args%2C%20util)%20%7B%0A%20%20%20%20%20%20console.log(util)%3B%0A%20%20%20%20%20%20%2F%2F%20helpful%20error%20site%3A%20https%3A%2F%2Ftoji.dev%2Fwebgpu-best-practices%2Ferror-handling.html%0A%20%20%20%20%20%20%2F%2F%20seems%20to%20be%20one%20of%20the%20only%20places%20to%20explain%20this%20in%20human%20readable%20terms%0A%20%20%20%20%20%20let%20threads%20%3D%20util.startHats(%22gpusb3_compileHat%22)%3B%20%2F%2F%20NOTE%20TO%20SELF%3A%20THIS%20DOESN'T%20START%20THE%20HATS(why%20is%20it%20named%20that%20then.%20this%20is%20stupid%20and%20i%20don't%20like%20it%2C%20i%20am%20going%20to%20complain%20on%20my%20twitter%20dot%20com%20(just%20kidding%20twitter%20is%20for%20nerds%20and%20i%20don't%20use%20it.%20also%20as%20of%20writing%20this%20comment%20for%20some%20it%20reason%20allows%20weird%20stuff%20now%2C%20what%20were%20they%20even%20thinking.%20twitter%20was%20bad%20to%20begin%20with%20but%20elon%20musk's%20midlife%20crisis%20ran%20it%20so%20far%20into%20the%20ground%20that%20it%20burned%20alive%2C%20also%20i'm%20not%20calling%20it%20x))%2C%20thanks%20sharkpool%0A%20%20%20%20%20%20let%20newthreads%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20vm.runtime.threads.forEach((i)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%2F%2Fconsole.log(i.topBlock)%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20%20%20util.thread.blockContainer._blocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20i.topBlock%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20util.thread.blockContainer._blocks%5Bi.topBlock%5D.opcode%20%3D%3D%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22gpusb3_compileHat%22%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newthreads.push(i)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20threads%20%3D%20newthreads%3B%0A%20%20%20%20%20%20%2F%2Fthreads%20%3D%20vm.runtime.threads.filter((i)%20%3D%3E%20util.thread.blockContainer._blocks%5Bi.topBlock%5D.opcode%20%3D%3D%3D%20%22gpusb3_compileHat%22)%0A%20%20%20%20%20%20%2F%2Fconsole.log(threads)%0A%20%20%20%20%20%20if%20(threads.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20await%20threads.forEach(async%20(t)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20t.tryCompile()%3B%20%2F%2F%20this%20doesn't%20do%20anything%20%3DD%0A%0A%20%20%20%20%20%20%20%20%20%20const%20arraycompiled%20%3D%20this.compile(%0A%20%20%20%20%20%20%20%20%20%20%20%20util%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20threads%5B0%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20threads%5B0%5D.blockContainer._blocks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20threads%5B0%5D.topBlock%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20false%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20console.log(arraycompiled)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20compiled%20%3D%20this.genWGSL(util%2C%20arraycompiled%2C%200)%3B%0A%20%20%20%20%20%20%20%20%20%20console.log(compiled)%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Flet%20idkman%20%3D%20this.genInputTree(util%2C%20t%2C%20t.blockContainer._blocks%2C%20t.topBlock%2C%20true)%0A%20%20%20%20%20%20%20%20%20%20let%20bglInput%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20t.blockContainer._blocks%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20t.blockContainer._blocks%5Bt.topBlock%5D.inputs.BGL.block%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%20%20%20%20let%20nameInput%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20t.blockContainer._blocks%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20t.blockContainer._blocks%5Bt.topBlock%5D.inputs.NAME.block%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(nameInput.opcode%20!%3D%20%22text%22%20%7C%7C%20bglInput.opcode%20!%3D%20%22text%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22UnexpectedInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unexpected%20input%20for%20block%20input!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ShaderDefinition%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Shader%20name%20and%20bind%20group%20layout%20cannot%20have%20inputs!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20resources.bindGroupLayouts%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20bglInput.fields.TEXT.value%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindGroupLayoutNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Bind%20group%20layout%20not%20found!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60Shader%20%22%24%7BnameInput.fields.TEXT.value%7D%22%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60Couldn't%20find%20bind%20group%20layout%22%24%7BbglInput.fields.TEXT.value%7D%22%2C%20make%20sure%20to%20define%20it%20before%20compiling!%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20funcname%20%3D%20nameInput.fields.TEXT.value%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this.device.pushErrorScope(%22internal%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.device.pushErrorScope(%22validation%22)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20shaderModule%20%3D%20this.device.createShaderModule(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%3A%20%60Shader%20%22%24%7Bfuncname%7D%22%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20code%3A%20compiled%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20errored%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(error)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ShaderCreationError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ShaderModuleCreation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errored%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(error)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ShaderCreationError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ShaderModuleCreation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errored%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20shaders%5Bfuncname%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20funcname%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20shader%20%3D%20shaders%5Bfuncname%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20compilationinfo%20%3D%20await%20shaderModule.getCompilationInfo()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(compilationinfo)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(const%20message%20of%20compilationinfo.messages)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22WGSLError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20message.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60ShaderCreation%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60Error%20parsing%20WGSL%20in%20shader%20%22%24%7Bfuncname%7D%22%3A%20%24%7Bmessage.message%7D%20-%20Line%20%24%7Bmessage.lineNum%7D%3A%24%7Bmessage.linePos%7D%20%24%7Bcompiled.substring(Math.max(0%2C%20message.offset%20-%2015)%2C%20message.offset)%7D**%24%7Bcompiled.substring(message.offset%2C%20message.offset%20%2B%20message.length)%7D**%24%7Bcompiled.substring(message.offset%20%2B%20message.length%2C%20Math.min(compiled.length%2C%20message.offset%20%2B%20message.length%20%2B%2015))%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20errored%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this.device.pushErrorScope(%22validation%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.device.pushErrorScope(%22internal%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20shader.computePipeline%20%3D%20this.device.createComputePipeline(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20layout%3A%20this.device.createPipelineLayout(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bindGroupLayouts%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20resources.bindGroupLayouts%5BbglInput.fields.TEXT.value%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20compute%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20module%3A%20shaderModule%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20entryPoint%3A%20%22computeShader%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(error)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ComputePipelineError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ComputePipelineCreation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errored%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(error)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ComputePipelineError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ComputePipelineCreation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errored%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20if%20(errored)%20delete%20shaders%5Bfuncname%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(errored)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20console.log(util)%3B%0A%20%20%20%20%20%20%20%20%2F%2Fconsole.log(threads)%0A%20%20%20%20%20%20%20%20%2F%2F%20const%20e%20%3D%20this.compile(util%2Cthreads%5B0%5D%2Cthreads%5B0%5D.blockContainer._blocks%2Cthreads%5B0%5D.topBlock%2Cfalse)%0A%20%20%20%20%20%20%20%20%2F%2F%20const%20compiled%20%3D%20this.genWGSL(util%2C%20e%2C%20false%2C%200)%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20console.log(e)%0A%20%20%20%20%20%20%20%20%2F%2F%20console.log(compiled)%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%2F*%0A%20%20%20%20%20%20%20%20compute%20shader%20reference%20implementation%0A%20%20%20%20%20%20%20%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWebGPU_API%23basic_compute_pipeline%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20notes%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20most%20of%20this%20can%20stay%20the%20same%20across%20multiple%20modules%2C%20the%20only%20things%20that%20might%20change%0A%20%20%20%20%20%20%20%20%20%20%20%20are%20the%20different%20input%20buffers%20and%20their%20usage%2C%20but%20that%20can%20probably%20be%20generated%0A%20%20%20%20%20%20%20%20%20%20%20%20fairly%20easily%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%20documentation%20is%20horrible%2C%20i'm%20fairly%20sure%20the%20writer%20forgot%20they%20were%20writing%20about%0A%20%20%20%20%20%20%20%20%20%20%20%20compute%20shaders%20halfway%20through%20and%20then%20just%20decided%20to%20talk%20about%20render%20shaders%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%0A%20%20%20%20%20%20%20%20*%2F%0A%0A%20%20%20%20runGPU(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(!Object.prototype.hasOwnProperty.call(shaders%2C%20args.GPUFUNC))%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22ShaderNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22Couldn't%20find%20specified%20shader!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22RunShaderBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22Couldn't%20find%20shader%20%5C%22%22%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.GPUFUNC)%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20'%22!'%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.bindGroups%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.BINDGROUP)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22BindGroupNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22Couldn't%20find%20specified%20bind%20group!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22RunShaderBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22Couldn't%20find%20bind%20group%20%5C%22%22%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.BINDGROUP)%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20'%22!'%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20let%20shader%20%3D%20shaders%5Bargs.GPUFUNC%5D%3B%0A%0A%20%20%20%20%20%20this.device.pushErrorScope(%22validation%22)%3B%0A%20%20%20%20%20%20this.device.pushErrorScope(%22internal%22)%3B%0A%20%20%20%20%20%20this.device.pushErrorScope(%22out-of-memory%22)%3B%0A%20%20%20%20%20%20const%20commandEncoder%20%3D%20this.device.createCommandEncoder()%3B%0A%0A%20%20%20%20%20%20const%20passEncoder%20%3D%20commandEncoder.beginComputePass()%3B%0A%20%20%20%20%20%20passEncoder.setPipeline(shader.computePipeline)%3B%0A%20%20%20%20%20%20passEncoder.setBindGroup(%0A%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%20resources.bindGroups%5BScratch.Cast.toString(args.BINDGROUP)%5D%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20passEncoder.dispatchWorkgroups(%0A%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.X)%2C%0A%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.Y)%2C%0A%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.Z)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20passEncoder.end()%3B%0A%20%20%20%20%20%20this.device.queue.submit(%5BcommandEncoder.finish()%5D)%3B%0A%0A%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22UnclassifiedRuntimeErrorOOM%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22RunShaderBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22UnclassifiedRuntimeError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22RunShaderBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22UnclassifiedRuntimeError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22RunShaderBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%2F%2Fconsole.log(%22yay%20the%20function%20ran%20without%20errors%20%3DD%22)%0A%20%20%20%20%7D%0A%0A%20%20%20%20compileHat(args%2C%20util)%20%7B%7D%0A%0A%20%20%20%20getVar(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20lets%20you%20get%20variables%20in%20your%20shader.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20declareVar(args%2C%20util)%20%7B%7D%0A%0A%20%20%20%20varOp(args%2C%20util)%20%7B%7D%0A%0A%20%20%20%20wgslFunc(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20has%20a%20bunch%20of%20WGSL%20builtin%20functions.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20funcArgs(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20%22Chain%20multiple%20of%20this%20block%20together%20to%20create%20function%20inputs.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20computeFunc(args%2C%20util)%20%7B%7D%0A%0A%20%20%20%20wgslForLoop(args%2C%20util)%20%7B%7D%0A%0A%20%20%20%20defFunc(args%2C%20util)%20%7B%7D%0A%0A%20%20%20%20defFuncArgs(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20%22This%20is%20used%20to%20add%20arguments%20to%20your%20functions.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getFuncArg(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20%22Use%20this%20block%20to%20get%20the%20value%20of%20an%20argument%20you%20defined%20using%20the%20def%20function%20arg%20block.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20funcReturn(args%2C%20util)%20%7B%7D%0A%0A%20%20%20%20c_runFunc(args%2C%20util)%20%7B%7D%0A%0A%20%20%20%20r_runFunc(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20will%20run%20a%20given%20function%20and%20return%20the%20output.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20gpuFuncArgDef(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20%22This%20is%20used%20to%20add%20input%20arguments%20to%20your%20shaders.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20bindInput(args%2C%20util)%20%7B%7D%0A%0A%20%20%20%20typeConstructor(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20lets%20you%20constructor%20types.%20You%20can%20put%20this%20block%20inside%20of%20itself(with%20a%20base%20type%20at%20the%20end)%20to%20create%20complex%20types%2C%20for%20example%20an%20array%20of%20vec2s%20of%20f32.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20rootType(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20%22This%20can%20be%20used%20with%20the%20above%20block%20for%20a%20root%20type.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20matrixType()%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20creates%20a%20type%20for%20a%20matrix%20with%20the%20dimensions%20specified.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20bufferUsage(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F*%20eslint-disable-next-line%20--%0A%20%20%20%20%20%20%20*%20Eslint%20doesn't%20like%20WebGPU%2C%20there's%20a%20type%20module%20for%20this.%0A%20%20%20%20%20%20%20*%2F%0A%20%20%20%20%20%20return%20GPUBufferUsage%5BScratch.Cast.toString(args.USAGE)%5D%20%3F%3F%201%3B%0A%20%20%20%20%20%20%2F%2Freturn%20%22This%20is%20used%20by%20the%20def%20shader%20arg%20block%20to%20define%20inputs.%20It's%20different%20from%20the%20usage%20in%20the%20bind%20input%20block.%22%0A%20%20%20%20%7D%0A%0A%20%20%20%20variableUsage(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20can%20be%20used%20in%20the%20special%20variable%20declaration%20block%20or%20the%20buffer%20binding%20usage%20block%20to%20describe%20how%20the%20variable%20will%20be%20used.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20indexObject(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20'This%20block%20can%20be%20used%20to%20index%20into%20an%20array.%20You%20can%20modify%20the%20returned%20value%20by%20putting%20it%20as%20the%20variable%20value%20in%20the%20%22variable%20(operation)%20(value)%22%20block'%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getProp(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20%22This%20can%20be%20used%20to%20get%20a%20component%20from%20a%20struct%2C%20or%20swizzle%20a%20vector.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20constructFromType(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20is%20used%20to%20create%20something%20out%20of%20whatever%20type%20you%20defined.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20createBuffer(args%2C%20util)%20%7B%0A%20%20%20%20%20%20this.device.pushErrorScope(%22validation%22)%3B%0A%20%20%20%20%20%20this.device.pushErrorScope(%22internal%22)%3B%0A%20%20%20%20%20%20this.device.pushErrorScope(%22out-of-memory%22)%3B%0A%20%20%20%20%20%20%2F%2F%20currentBindGroupLayout%20%3D%0A%20%20%20%20%20%20resources.buffers%5BScratch.Cast.toString(args.NAME)%5D%20%3D%0A%20%20%20%20%20%20%20%20this.device.createBuffer(%7B%0A%20%20%20%20%20%20%20%20%20%20label%3A%20Scratch.Cast.toString(args.NAME)%2C%0A%20%20%20%20%20%20%20%20%20%20size%3A%20Scratch.Cast.toNumber(args.SIZE)%2C%0A%20%20%20%20%20%20%20%20%20%20usage%3A%20Scratch.Cast.toNumber(args.USAGE)%2C%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22BufferCreationErrorOOM%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22BufferCreation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22BufferCreationError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22BufferCreation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22BufferCreationError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22BufferCreation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20createBindGroupLayout(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20thanks%20to%20cst1229%20for%20this%20section%20%3C3%0A%20%20%20%20%20%20if%20(util.stackFrame.blockRanOnce)%20%7B%0A%20%20%20%20%20%20%20%20this.device.pushErrorScope(%22validation%22)%3B%0A%20%20%20%20%20%20%20%20this.device.pushErrorScope(%22internal%22)%3B%0A%20%20%20%20%20%20%20%20this.device.pushErrorScope(%22out-of-memory%22)%3B%0A%20%20%20%20%20%20%20%20resources.bindGroupLayouts%5BScratch.Cast.toString(args.NAME)%5D%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.device.createBindGroupLayout(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20entries%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20resources.bindGroupLayouts%5BScratch.Cast.toString(args.NAME)%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3A%20Scratch.Cast.toString(args.NAME)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindGroupLayoutCreationErrorOOM%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindGroupLayoutCreation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindGroupLayoutCreationError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindGroupLayoutCreation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindGroupLayoutCreationError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindGroupLayoutCreation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20currentBindGroupLayout%20%3D%20Scratch.Cast.toString(args.NAME)%3B%0A%20%20%20%20%20%20resources.bindGroupLayouts%5BScratch.Cast.toString(args.NAME)%5D%20%3D%20%5B%5D%3B%20%2F%2F%20temporarily%20store%20a%20list%20of%20entries%20here%2C%20things%20will%20be%20added%20to%20it%20via%20the%20bindGroupLayoutEntry%20block%0A%20%20%20%20%20%20util.startBranch(1%2C%20true)%3B%0A%20%20%20%20%20%20util.stackFrame.blockRanOnce%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20bindGroupLayoutEntry(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20parsed%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20parsed%20%3D%20JSON.parse(args.DESC)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20if%20(!Object.prototype.hasOwnProperty.call(parsed%2C%22type%22))%20throw%20new%20Error(%22skibidi%20toilet%20ohio%20grimace%20shake%20rizz%22)%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22InvalidEntryDescriptor%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22Invalid%20bind%20group%20layout%20entry%20descriptor!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22BindGroupLayoutEntryBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20recieved%20descriptor%20for%20the%20bind%20group%20layout%20entry%20block%20is%20invalid%2C%20did%20you%20use%20the%20wrong%20block%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20let%20o%20%3D%20%7B%0A%20%20%20%20%20%20%20%20binding%3A%20Scratch.Cast.toNumber(args.BINDING)%2C%0A%20%20%20%20%20%20%20%20%2F%2F%20this%20extension%20only%20has%20compute%20shaders%0A%20%20%20%20%20%20%20%20%2F*%20eslint-disable-next-line%20--%0A%20%20%20%20%20%20%20%20%20*%20Eslint%20doesn't%20like%20WebGPU%2C%20there's%20a%20type%20module%20for%20this.%0A%20%20%20%20%20%20%20%20%20*%2F%0A%20%20%20%20%20%20%20%20visibility%3A%20GPUShaderStage.COMPUTE%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20o%5Bargs.TYPE%5D%20%3D%20parsed%3B%0A%20%20%20%20%20%20resources.bindGroupLayouts%5BcurrentBindGroupLayout%5D.push(o)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20createBindGroup(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20thanks%20to%20cst1229%20for%20this%20section%20%3C3%0A%0A%20%20%20%20%20%20if%20(util.stackFrame.blockRanOnce)%20%7B%0A%20%20%20%20%20%20%20%20this.device.pushErrorScope(%22validation%22)%3B%0A%20%20%20%20%20%20%20%20this.device.pushErrorScope(%22internal%22)%3B%0A%20%20%20%20%20%20%20%20this.device.pushErrorScope(%22out-of-memory%22)%3B%0A%20%20%20%20%20%20%20%20resources.bindGroups%5BScratch.Cast.toString(args.NAME)%5D%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.device.createBindGroup(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20layout%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20resources.bindGroupLayouts%5BScratch.Cast.toString(args.LAYOUT)%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20entries%3A%20resources.bindGroups%5BScratch.Cast.toString(args.NAME)%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3A%20Scratch.Cast.toString(args.NAME)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindGroupCreationErrorOOM%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindGroupCreation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindGroupCreationError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindGroupCreation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindGroupCreationError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22BindGroupCreation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20currentBindGroup%20%3D%20Scratch.Cast.toString(args.NAME)%3B%0A%20%20%20%20%20%20resources.bindGroups%5BScratch.Cast.toString(args.NAME)%5D%20%3D%20%5B%5D%3B%20%2F%2F%20temporarily%20store%20a%20list%20of%20entries%20here%2C%20things%20will%20be%20added%20to%20it%20via%20the%20bindGroupLayoutEntry%20block%0A%20%20%20%20%20%20util.startBranch(1%2C%20true)%3B%0A%20%20%20%20%20%20util.stackFrame.blockRanOnce%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20bindGroupEntry(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20kv%20%3D%20%7B%0A%20%20%20%20%20%20%20%20buffer%3A%20%22buffers%22%2C%0A%20%20%20%20%20%20%20%20storageTexture%3A%20%22textures%22%2C%0A%20%20%20%20%20%20%20%20sampler%3A%20%22samplers%22%2C%0A%20%20%20%20%20%20%7D%3B%20%2F%2F%20bind%20group%20entry%20type%20-%3E%20resources%20key%0A%0A%20%20%20%20%20%20%2F%2F%20the%20object%20to%20bind%20to%20that%20slot.%20buffers%20are%20freaky%20and%20need%20a%20special%20object%0A%20%20%20%20%20%20let%20o%3B%0A%20%20%20%20%20%20const%20type%20%3D%20kv%5Bargs.TYPE%5D%20%3F%3F%20%22buffers%22%3B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources%5Btype%5D%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.RESOURCE)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22ResourceNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20specified%20resource%20doesn't%20exist%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22BindGroupEntryBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%60Either%20the%20resource%20type%20is%20invalid%20or%20the%20provided%20resource%20name%20doesn't%20exist.%60%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(type%20%3D%3D%20%22buffers%22)%20%7B%0A%20%20%20%20%20%20%20%20o%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20buffer%3A%20resources.buffers%5Bargs.RESOURCE%5D%2C%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%2F%2Fconsole.log(o)%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20o%20%3D%20resources%5Btype%5D%5Bargs.RESOURCE%5D%3B%0A%20%20%20%20%20%20%20%20if%20(type%20%3D%3D%20%22textures%22)%20o%20%3D%20o.createView()%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20resources.bindGroups%5BcurrentBindGroup%5D.push(%7B%0A%20%20%20%20%20%20%20%20binding%3A%20Scratch.Cast.toNumber(args.BINDING)%2C%0A%20%20%20%20%20%20%20%20resource%3A%20o%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20bufferEntryDescriptor(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20JSON.stringify(%7B%0A%20%20%20%20%20%20%20%20type%3A%20args.TYPE%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20binaryOr(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20Scratch.Cast.toNumber(args.A)%20%7C%20Scratch.Cast.toNumber(args.B)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20genF32(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20array%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20array%20%3D%20JSON.parse(args.ARRAY)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20array%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20resources.bufferRefs%5Bthis.getBlockId(util)%5D%20%3D%20new%20Float32Array(array)%3B%0A%20%20%20%20%20%20return%20this.getBlockId(util)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20wgslWhileLoop(args%2C%20util)%20%7B%7D%0A%0A%20%20%20%20break(args%2C%20util)%20%7B%7D%0A%0A%20%20%20%20continue(args%2C%20util)%20%7B%7D%0A%0A%20%20%20%20writeBuffer(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20todo%3A%20more%20input%20types%20here%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.buffers%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.BUFFER)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22BufferNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20provided%20buffer%20doesn't%20exist%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22ClearBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%60The%20buffer%20%22%24%7BScratch.Cast.toString(args.BUFFER)%7D%22%20doesn't%20exist%60%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.arrayBuffers%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.ARRAY)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22ArrayNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20provided%20array%20doesn't%20exist%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22ClearBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%60The%20array%20%22%24%7BScratch.Cast.toString(args.ARRAY)%7D%22%20doesn't%20exist%60%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.device.queue.writeBuffer(%0A%20%20%20%20%20%20%20%20resources.buffers%5BScratch.Cast.toString(args.BUFFER)%5D%2C%0A%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.OFF2)%2C%0A%20%20%20%20%20%20%20%20resources.arrayBuffers%5BScratch.Cast.toString(args.ARRAY)%5D%2C%0A%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.OFF1)%2C%0A%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.SIZE)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20copyBufferToBuffer(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.NUMBYTES)%20%3C%3D%200%20%7C%7C%0A%20%20%20%20%20%20%20%20args.BUF1%20%3D%3D%3D%20args.BUF2%20%7C%7C%0A%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(resources.buffers%2C%20args.BUF1)%20%7C%7C%0A%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(resources.buffers%2C%20args.BUF1)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22InvalidInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22Invalid%20input%20recieved%20when%20trying%20to%20copy%20data%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22CopyDataBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22Failed%20to%20copy%20data%20between%20buffers%2C%20check%20that%20the%20buffers%20exist%2C%20buffer%201%20isn't%20the%20same%20as%20buffer%202%2C%20and%20the%20number%20of%20bytes%20is%20more%20than%20or%20equal%20to%200%22%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20commandEncoder%20%3D%20this.device.createCommandEncoder(%7B%0A%20%20%20%20%20%20%20%20label%3A%20%22copyBuffer%20encoder%22%2C%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20this.device.pushErrorScope(%22validation%22)%3B%0A%20%20%20%20%20%20this.device.pushErrorScope(%22internal%22)%3B%0A%20%20%20%20%20%20commandEncoder.copyBufferToBuffer(%0A%20%20%20%20%20%20%20%20resources.buffers%5Bargs.BUF1%5D%2C%0A%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.BUF1OFF)%2C%0A%20%20%20%20%20%20%20%20resources.buffers%5Bargs.BUF2%5D%2C%0A%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.BUF2OFF)%2C%0A%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.NUMBYTES)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22CopyBufferToBufferError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22CopyingBufferToBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22CopyBufferToBufferError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22CopyingBufferToBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20this.device.queue.submit(%5BcommandEncoder.finish()%5D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20clearBuffer(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.NUMBYTES)%20%3C%3D%200%20%26%26%0A%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.NUMBYTES)%20!%3D%3D%20-1%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22InvalidInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22Invalid%20number%20of%20bytes%20to%20clear%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22ClearBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%60The%20provided%20number%20of%20bytes%20to%20clear%2C%20%24%7BScratch.Cast.toNumber(args.NUMBYTES)%7D%2C%20is%20invalid.%20Must%20be%20more%20than%200%2C%20or%20-1%20to%20clear%20all.%60%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.buffers%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.BUFFER)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22BufferNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20provided%20buffer%20doesn't%20exist%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22ClearBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%60The%20buffer%20%22%24%7BScratch.Cast.toString(args.BUFFER)%7D%22%20doesn't%20exist%60%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20commandEncoder%20%3D%20this.device.createCommandEncoder(%7B%0A%20%20%20%20%20%20%20%20label%3A%20%22clearBuffer%20encoder%22%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20if%20(Scratch.Cast.toNumber(args.NUMBYTES)%20%3D%3D%3D%20-1)%20%7B%0A%20%20%20%20%20%20%20%20commandEncoder.clearBuffer(%0A%20%20%20%20%20%20%20%20%20%20resources.buffers%5BScratch.Cast.toString(args.BUFFER)%5D%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20commandEncoder.clearBuffer(%0A%20%20%20%20%20%20%20%20%20%20resources.buffers%5BScratch.Cast.toString(args.BUFFER)%5D%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.OFFSET)%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.NUMBYTES)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20async%20readBuffer(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20WARNING%3A%0A%20%20%20%20%20%20%2F%2F%20MAY%20CONTAIN%20BAD%20IDEA%20JUICE%0A%20%20%20%20%20%20%2F%2F%20GPUMapMode.READ%20assumes%20no%20writing%20will%20be%20done%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20!Object.prototype.hasOwnProperty.call(resources.buffers%2C%20args.BUFFER)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22BufferNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20buffer%20provided%20doesn't%20exist%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22ReadBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%60Buffer%20%22%24%7Bargs.BUFFER%7D%22%20doesn't%20exist.%60%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20let%20data%20%3D%20%5B%22you%20done%20messed%20up%22%5D%0A%20%20%20%20%20%20this.device.pushErrorScope(%22validation%22)%3B%0A%20%20%20%20%20%20this.device.pushErrorScope(%22internal%22)%3B%0A%20%20%20%20%20%20await%20resources.buffers%5Bargs.BUFFER%5D.mapAsync(%0A%20%20%20%20%20%20%20%20%2F*%20eslint-disable-next-line%20--%0A%20%20%20%20%20%20%20%20%20*%20Eslint%20doesn't%20like%20WebGPU%2C%20there's%20a%20type%20module%20for%20this.%0A%20%20%20%20%20%20%20%20%20*%2F%0A%20%20%20%20%20%20%20%20GPUMapMode.READ%0A%20%20%20%20%20%20%20%20%2F%2F%200%2C%0A%20%20%20%20%20%20%20%20%2F%2F%20shaders%5Bargs.SHADER%5D.inputs%5BScratch.Cast.toNumber(args.BINDING)%5D.input.size%2C%0A%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20const%20copyArrayBuffer%20%3D%20resources.buffers%5Bargs.BUFFER%5D%0A%20%20%20%20%20%20%20%20.getMappedRange(%2F*0%2C%20shaders%5Bargs.SHADER%5D.inputs%5BScratch.Cast.toNumber(args.BINDING)%5D.input.size*%2F)%0A%20%20%20%20%20%20%20%20.slice()%3B%0A%20%20%20%20%20%20console.log(copyArrayBuffer)%3B%0A%20%20%20%20%20%20resources.views.testview%20%3D%20new%20Float32Array(copyArrayBuffer)%3B%0A%20%20%20%20%20%20resources.buffers%5Bargs.BUFFER%5D.unmap()%3B%0A%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22BufferReadError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22ReadBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20this.device.popErrorScope().then((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(error)%0A%20%20%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22BufferReadError%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error.message%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22ReadBuffer%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20resources.arrayBuffers%5BScratch.Cast.toString(args.ARRAYBUFFER)%5D%20%3D%0A%20%20%20%20%20%20%20%20copyArrayBuffer%3B%20%2F%2F%20todo%3A%20error%20handling%20here%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0A%20%20%20%20%20%20%2F%2Freturn%20JSON.stringify(Array.from(new%20Float32Array(data)))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20error(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20JSON.stringify(error)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20clearError()%20%7B%0A%20%20%20%20%20%20error%20%3D%20%7B%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20c_arbitraryWGSL()%20%7B%7D%0A%0A%20%20%20%20r_arbitraryWGSL()%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20allows%20you%20to%20add%20custom%20WGSL%20to%20your%20shaders.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20atomicType()%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20returns%20a%20type%20that%20can%20be%20used%20to%20declare%20an%20atomic%20variable.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20atomicLoad()%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20gets%20an%20atomic%20function%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20c_atomicFunc()%20%7B%7D%0A%0A%20%20%20%20r_atomicFunc()%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20performs%20a%20thread%20safe%20operation%20on%20an%20atomic%20variable.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20barrier()%20%7B%7D%0A%0A%20%20%20%20variablePointer()%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20converts%20a%20variable%20to%20a%20pointer.%20Equivilant%20to%20*someVar%20in%20c.%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20createAB(args%2C%20util)%20%7B%0A%20%20%20%20%20%20resources.arrayBuffers%5BScratch.Cast.toString(args.ARRAYBUFFER)%5D%20%3D%0A%20%20%20%20%20%20%20%20new%20ArrayBuffer(Scratch.Cast.toNumber(args.LENGTH))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getArrayBuffers()%20%7B%0A%20%20%20%20%20%20%2F%2F%20note%20to%20self%3A%20the%20buffer%20object%20on%20view%20is%20views%5Bkey%5D%0A%20%20%20%20%20%20%2F%2F%20this%20code%20is%20bad%20and%20i%20hate%20it%0A%20%20%20%20%20%20return%20Array.from((buffersExt%3F.views%20%3F%3F%20new%20Map()).keys()).concat(%0A%20%20%20%20%20%20%20%20Object.keys(resources.arrayBuffers)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getArrayBuffersMenu()%20%7B%0A%20%20%20%20%20%20%2F%2F%20note%20to%20self%3A%20the%20buffer%20object%20on%20view%20is%20views%5Bkey%5D%0A%20%20%20%20%20%20%2F%2F%20this%20code%20is%20bad%20and%20i%20hate%20it%0A%20%20%20%20%20%20const%20a%20%3D%20Array.from((buffersExt%3F.views%20%3F%3F%20new%20Map()).keys()).concat(%0A%20%20%20%20%20%20%20%20Object.keys(resources.arrayBuffers)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20return%20a.length%20%3C%201%20%3F%20a.concat(%22Choose%20a%20buffer%22)%20%3A%20a%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20createABView(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F*if%20(!Object.prototype.hasOwnProperty.call(resources.arrayBuffers%2CScratch.Cast.toString(args.ARRAYBUFFER)))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.throwError(%22ArrayBufferNotFound%22%2C%20%22Couldn't%20find%20array%20buffer%22%2C%20%22CreateArrayBufferView%22%2C%20%22The%20specified%20array%20buffer%20to%20view%20doesn't%20exist%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D*%2F%0A%20%20%20%20%20%20if%20(Scratch.Cast.toString(args.NAME)%20%3D%3D%20%22%22)%20return%3B%20%2F%2F%20this%20looks%20weird%20in%20the%20list%0A%20%20%20%20%20%20resources.views%5BScratch.Cast.toString(args.NAME)%5D%20%3D%0A%20%20%20%20%20%20%20%20this.typedArrayFromType(%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.TYPE)%2C%0A%20%20%20%20%20%20%20%20%20%20resources.arrayBuffers%5BScratch.Cast.toString(args.ARRAYBUFFER)%5D%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20typedArrayFromType(type%2C%20data)%20%7B%0A%20%20%20%20%20%20const%20t%20%3D%20%7B%0A%20%20%20%20%20%20%20%20Int32Array%3A%20Int32Array%2C%0A%20%20%20%20%20%20%20%20Uint32Array%3A%20Uint32Array%2C%0A%20%20%20%20%20%20%20%20Float32Array%3A%20Float32Array%2C%0A%20%20%20%20%20%20%20%20Int8Array%3A%20Int8Array%2C%0A%20%20%20%20%20%20%20%20Uint8Array%3A%20Uint8Array%2C%0A%20%20%20%20%20%20%20%20Uint8ClampedArray%3A%20Uint8ClampedArray%2C%0A%20%20%20%20%20%20%20%20Int16Array%3A%20Int16Array%2C%0A%20%20%20%20%20%20%20%20Uint16Array%3A%20Uint16Array%2C%0A%20%20%20%20%20%20%20%20BigInt64Array%3A%20BigInt64Array%2C%0A%20%20%20%20%20%20%20%20BigUint64Array%3A%20BigUint64Array%2C%0A%20%20%20%20%20%20%20%20Float64Array%3A%20Float64Array%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20if%20(!Object.prototype.hasOwnProperty.call(t%2C%20type))%20type%20%3D%20%22Int32Array%22%3B%0A%20%20%20%20%20%20if%20(data)%20return%20new%20t%5Btype%5D(data)%3B%0A%20%20%20%20%20%20return%20new%20t%5Btype%5D()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20listABs()%20%7B%0A%20%20%20%20%20%20return%20JSON.stringify(this.getArrayBuffers())%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20listViews()%20%7B%0A%20%20%20%20%20%20return%20JSON.stringify(%0A%20%20%20%20%20%20%20%20Array.from((buffersExt%3F.views%20%3F%3F%20new%20Map()).keys()).concat(%0A%20%20%20%20%20%20%20%20%20%20Object.keys(resources.views)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20createABFromArray(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(Scratch.Cast.toString(args.NAME)%20%3D%3D%20%22%22)%20return%3B%20%2F%2F%20this%20looks%20weird%20in%20the%20list%0A%20%20%20%20%20%20let%20j%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20j%20%3D%20JSON.parse(args.ARRAY)%3B%0A%20%20%20%20%20%20%20%20if%20(!Array.isArray(j))%20throw%20new%20Error(%22skibidi%20toilet%20ohio%20rizz%22)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22InvalidArray%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20provided%20array%20is%20invalid%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22CreateArrayBufferFromArrayBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20provided%20array%20is%20invalid%2C%20or%20isn't%20an%20array.%22%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20ta%20%3D%20this.typedArrayFromType(Scratch.Cast.toString(args.TYPE)%2C%20j)%3B%0A%20%20%20%20%20%20resources.arrayBuffers%5BScratch.Cast.toString(args.ARRAYBUFFER)%5D%20%3D%0A%20%20%20%20%20%20%20%20ta.buffer%3B%0A%20%20%20%20%20%20resources.views%5BScratch.Cast.toString(args.ARRAYBUFFER)%5D%20%3D%20ta%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteAB(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.arrayBuffers%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.ARRAYBUFFER)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20delete%20resources.arrayBuffers%5BScratch.Cast.toString(args.ARRAYBUFFER)%5D%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22ArrayBufferNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22Array%20buffer%20not%20found%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22DeleteArrayBufferBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20specified%20array%20buffer%20doesn't%20exist%22%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20resizeAB(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.arrayBuffers%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.ARRAYBUFFER)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20resources.arrayBuffers%5BScratch.Cast.toString(args.ARRAYBUFFER)%5D.resize(%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.SIZE)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22ArrayBufferNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22Array%20buffer%20not%20found%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22ResizeArrayBufferBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20specified%20array%20buffer%20doesn't%20exist%22%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteView(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.views%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.VIEW)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20delete%20resources.views%5BScratch.Cast.toString(args.VIEW)%5D%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22ViewNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22View%20not%20found%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22DeleteViewBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20specified%20view%20doesn't%20exist%22%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setItemInView(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.views%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.VIEW)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20resources.views%5BScratch.Cast.toString(args.VIEW)%5D%5B%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.INDEX)%0A%20%20%20%20%20%20%20%20%5D%20%3D%20Scratch.Cast.toNumber(args.VALUE)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20console.log(%22aaaaa%22)%3B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22ViewNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22View%20not%20found%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22SetItemInViewBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20specified%20view%20doesn't%20exist%22%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setView(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20j%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20j%20%3D%20JSON.parse(args.ARRAY)%3B%0A%20%20%20%20%20%20%20%20if%20(!Array.isArray(j))%0A%20%20%20%20%20%20%20%20%20%20throw%20new%20Error(%22balkan%20rage%20winter%20arc%20jonkler%20trollge%20phonk%22)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22InvalidArray%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20provided%20array%20is%20invalid%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22SetViewBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20provided%20array%20is%20invalid%2C%20or%20isn't%20an%20array.%22%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.views%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.VIEW)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20resources.views%5BScratch.Cast.toString(args.VIEW)%5D.set(%0A%20%20%20%20%20%20%20%20%20%20j%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.INDEX)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22ViewNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22View%20not%20found%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22SetViewBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20specified%20view%20doesn't%20exist%22%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20fillView(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.views%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.VIEW)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20resources.views%5BScratch.Cast.toString(args.VIEW)%5D.fill(%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.VALUE)%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.START)%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.END)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.throwError(%0A%20%20%20%20%20%20%20%20%20%20%22ViewNotFound%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22View%20not%20found%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22FillViewBlock%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22The%20specified%20view%20doesn't%20exist%22%2C%0A%20%20%20%20%20%20%20%20%20%20util%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20itemOfView(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.views%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.VIEW)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20return%20resources.views%5BScratch.Cast.toString(args.VIEW)%5D%5B%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.INDEX)%0A%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20sliceView(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.views%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.VIEW)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20const%20a%20%3D%20Array.from(%0A%20%20%20%20%20%20%20%20%20%20resources.views%5BScratch.Cast.toString(args.VIEW)%5D.slice(%0A%20%20%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.START)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.END)%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20console.log(a)%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(a)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20viewToArray(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.views%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.VIEW)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(%0A%20%20%20%20%20%20%20%20%20%20Array.from(resources.views%5BScratch.Cast.toString(args.VIEW)%5D)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20propFromView(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20Object.prototype.hasOwnProperty.call(%0A%20%20%20%20%20%20%20%20%20%20resources.views%2C%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.VIEW)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20return%20resources.views%5BScratch.Cast.toString(args.VIEW)%5D%5B%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.PROP)%0A%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20createTexture(args%2C%20util)%20%7B%0A%20%20%20%20%20%20resources.textures%5BScratch.Cast.toString(args.NAME)%5D%20%3D%0A%20%20%20%20%20%20%20%20this.device.createTexture(%7B%0A%20%20%20%20%20%20%20%20%20%20size%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.WIDTH)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toNumber(args.HEIGHT)%2C%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%0A%20%20%20%20%20%20%20%20%20%20format%3A%20Scratch.Cast.toString(args.FORMAT)%2C%0A%20%20%20%20%20%20%20%20%20%20usage%3A%20Scratch.Cast.toNumber(args.USAGE)%2C%0A%20%20%20%20%20%20%20%20%20%20label%3A%20Scratch.Cast.toString(args.NAME)%2C%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20textureUsage(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F*%20eslint-disable-next-line%20--%0A%20%20%20%20%20%20%20*%20Eslint%20doesn't%20like%20WebGPU%2C%20there's%20a%20type%20module%20for%20this.%0A%20%20%20%20%20%20%20*%2F%0A%20%20%20%20%20%20return%20GPUTextureUsage%5BScratch.Cast.toString(args.USAGE)%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%0A%20%20%20%20%20*%20%40param%20%7Bimport(%22scratch-render%22).SVGSkin%20%7C%20import(%22scratch-render%22).BitmapSkin%7D%20skin%0A%20%20%20%20%20*%2F%0A%20%20%20%20skinToArray(skin)%20%7B%0A%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fstackoverflow.com%2Fa%2F18804153%2F20805087%0A%20%20%20%20%20%20%2F%2F%20i%20was%20going%20to%20add%20support%20for%20the%20pen%2B%20texture%20library%20but%0A%20%20%20%20%20%20skin.updateSilhouette()%3B%0A%20%20%20%20%20%20console.log(skin._silhouette._colorData)%3B%0A%20%20%20%20%20%20return%20skin._silhouette._colorData%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%0A%20%20%20%20%20*%20%40param%20%7B*%7D%20args%0A%20%20%20%20%20*%20%40param%20%7Bimport(%22scratch-vm%22).BlockUtility%7D%20util%0A%20%20%20%20%20*%2F%0A%20%20%20%20writeTexture(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20textureData%3B%0A%20%20%20%20%20%20%2F%2F%20if%20(penPlus)%20%7B%0A%20%20%20%20%20%20%2F%2F%20%20todo%3A%20error%20handling%20here%20and%20adding%20pen%2B%20costume%20library%20support%0A%20%20%20%20%20%20%2F%2F%20%7D%0A%20%20%20%20%20%20const%20i%20%3D%20util.target.getCostumeIndexByName(%0A%20%20%20%20%20%20%20%20Scratch.Cast.toString(args.IMAGE)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20if%20(i%20!%3D%3D%20-1)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20not%20using%20the%20properties%20that%20are%20causing%20stupid%20errors%20so%20who%20cares%0A%0A%20%20%20%20%20%20%20%20textureData%20%3D%20this.skinToArray(%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0A%20%20%20%20%20%20%20%20%20%20vm.renderer._allSkins%5Butil.target.sprite.costumes%5Bi%5D.skinId%5D%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%2F%2FtextureData%20%3D%20util.target.sprite.costumes%5Bi%5D.asset.data%0A%20%20%20%20%20%20%20%20%2F%2Fconsole.log(util.target.sprite.costumes%5Bi%5D.asset.data)%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20throw%20new%20Error(%22Texture%20missing%20-%20%22%20%2B%20args.IMAGE)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20t%20%3D%20resources.textures%5BScratch.Cast.toString(args.TEXTURE)%5D%3B%0A%20%20%20%20%20%20console.log(%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20texture%3A%20t%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20textureData%2C%0A%20%20%20%20%20%20%20%20%7B%20bytesPerRow%3A%20this.bytesFromFormat(t.format)%20*%20t.width%20%7D%2C%20%2F%2F%20get%20the%20number%20of%20bytes%20per%20pixel%2C%20multiplied%20by%20the%20width%20of%20the%20row.%0A%20%20%20%20%20%20%20%20%7B%20width%3A%20t.width%2C%20height%3A%20t.height%20%7D%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.device.queue.writeTexture(%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20texture%3A%20t%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20textureData%2C%0A%20%20%20%20%20%20%20%20%7B%20bytesPerRow%3A%20this.bytesFromFormat(t.format)%20*%20t.width%20%7D%2C%20%2F%2F%20get%20the%20number%20of%20bytes%20per%20pixel%2C%20multiplied%20by%20the%20width%20of%20the%20row.%0A%20%20%20%20%20%20%20%20%7B%20width%3A%20t.width%2C%20height%3A%20t.height%20%7D%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getImageList()%20%7B%0A%20%20%20%20%20%20return%20vm.editingTarget.sprite.costumes.map((v)%20%3D%3E%20v.name)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20createSampler(args%2C%20util)%20%7B%0A%20%20%20%20%20%20resources.samplers%5BScratch.Cast.toString(args.NAME)%5D%20%3D%0A%20%20%20%20%20%20%20%20this.device.createSampler(%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%0A%20%20%20%20%20%20%20%20%20%20addressModeU%3A%20Scratch.Cast.toString(args.UMODE)%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%0A%20%20%20%20%20%20%20%20%20%20addressModeV%3A%20Scratch.Cast.toString(args.VMODE)%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%0A%20%20%20%20%20%20%20%20%20%20magFilter%3A%20Scratch.Cast.toString(args.MAGFILTER)%2C%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20bytesFromFormat(format)%20%7B%0A%20%20%20%20%20%20%2F%2F%20returns%20the%20bytes%20per%20pixel%20of%20a%20given%20format%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20r8unorm%3A%201%2C%0A%20%20%20%20%20%20%20%20r8norm%3A%201%2C%0A%20%20%20%20%20%20%20%20r8uint%3A%201%2C%0A%20%20%20%20%20%20%20%20r8int%3A%201%2C%0A%20%20%20%20%20%20%20%20r16uint%3A%202%2C%0A%20%20%20%20%20%20%20%20r16sint%3A%202%2C%0A%20%20%20%20%20%20%20%20r16float%3A%202%2C%0A%20%20%20%20%20%20%20%20rg8unorm%3A%202%2C%0A%20%20%20%20%20%20%20%20rg8snorm%3A%202%2C%0A%20%20%20%20%20%20%20%20rg8uint%3A%202%2C%0A%20%20%20%20%20%20%20%20rg8sint%3A%202%2C%0A%20%20%20%20%20%20%20%20r32uint%3A%204%2C%0A%20%20%20%20%20%20%20%20r32sint%3A%204%2C%0A%20%20%20%20%20%20%20%20r32float%3A%204%2C%0A%20%20%20%20%20%20%20%20rg16uint%3A%204%2C%0A%20%20%20%20%20%20%20%20rg16sint%3A%204%2C%0A%20%20%20%20%20%20%20%20rg16float%3A%204%2C%0A%20%20%20%20%20%20%20%20rgba8unorm%3A%204%2C%0A%20%20%20%20%20%20%20%20%22rgba8unorm-srgb%22%3A%204%2C%0A%20%20%20%20%20%20%20%20rgba8snorm%3A%204%2C%0A%20%20%20%20%20%20%20%20rgba8uint%3A%204%2C%0A%20%20%20%20%20%20%20%20bgra8unorm%3A%204%2C%0A%20%20%20%20%20%20%20%20%22bgra8unorm-srgb%22%3A%204%2C%0A%20%20%20%20%20%20%20%20rgba10a2unorm%3A%204%2C%0A%20%20%20%20%20%20%20%20rg11b10ufloat%3A%204%2C%0A%20%20%20%20%20%20%20%20rgba9e5ufloat%3A%204%2C%0A%20%20%20%20%20%20%20%20rg32uint%3A%208%2C%0A%20%20%20%20%20%20%20%20rg32sint%3A%208%2C%0A%20%20%20%20%20%20%20%20rg32float%3A%208%2C%0A%20%20%20%20%20%20%20%20rgba16uint%3A%208%2C%0A%20%20%20%20%20%20%20%20rgba16sint%3A%208%2C%0A%20%20%20%20%20%20%20%20rgba16float%3A%208%2C%0A%20%20%20%20%20%20%20%20rgba32uint%3A%2016%2C%0A%20%20%20%20%20%20%20%20rgba32sint%3A%2016%2C%0A%20%20%20%20%20%20%20%20rgba32float%3A%2016%2C%0A%20%20%20%20%20%20%7D%5Bformat%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20textureType()%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20allows%20you%20to%20add%20texture%20types%20to%20your%20shaders%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20samplerType()%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20allows%20you%20to%20add%20sampler%20types%20to%20your%20shaders%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20textureEntryDescriptor(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20JSON.stringify(%7B%0A%20%20%20%20%20%20%20%20access%3A%20Scratch.Cast.toString(args.TYPE)%2C%0A%20%20%20%20%20%20%20%20format%3A%20Scratch.Cast.toString(args.FORMAT)%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20samplerEntryDescriptor(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20JSON.stringify(%7B%0A%20%20%20%20%20%20%20%20samplerType%3A%20Scratch.Cast.toString(args.TYPE)%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20copyTextureToBuffer(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20commandEncoder%20%3D%20this.device.createCommandEncoder(%7B%0A%20%20%20%20%20%20%20%20label%3A%20%22copyTextureToBuffer%20encoder%22%2C%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20commandEncoder.copyTextureToBuffer(%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20texture%3A%20resources.textures%5BScratch.Cast.toString(args.TEXTURE)%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20todo%3A%20origin%20here%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20buffer%3A%20resources.buffers%5BScratch.Cast.toString(args.BUFFER)%5D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20width%3A%20Scratch.Cast.toNumber(args.WIDTH)%2C%0A%20%20%20%20%20%20%20%20%20%20height%3A%20Scratch.Cast.toNumber(args.HEIGHT)%2C%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20this.device.queue.submit(%5BcommandEncoder.finish()%5D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20declareStruct()%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20structProperty()%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20structType()%20%7B%0A%20%20%20%20%20%20return%20%22This%20block%20lets%20you%20use%20a%20struct%20as%20a%20type.%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20%2F%2F%20%40ts-ignore%0A%20%20Scratch.extensions.register(new%20GPUSb3())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Delta%20Time%0A%2F%2F%20ID%3A%20dtbyxeroname%0A%2F%2F%20Description%3A%20Precise%20delta%20timing%20blocks.%0A%2F%2F%20By%3A%20XeroName%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2Fplant2014%2F%3E%0A%2F%2F%20License%3A%20MIT%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20const%20icon%20%3D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjYwMCIgdmlld0JveD0iMCAwIDYwMCA2MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI%2BCjxjaXJjbGUgY3g9IjMwMCIgY3k9IjMwMCIgcj0iMzAwIiBmaWxsPSIjMjAyMDIwIi8%2BCjxwYXRoIGQ9Ik04Ny44NjggNTEyLjEzMkM2MC4wMTA0IDQ4NC4yNzQgMzcuOTEyNSA0NTEuMjAzIDIyLjgzNjEgNDE0LjgwNUM3Ljc1OTcyIDM3OC40MDcgLTMuNDQ0MTZlLTA2IDMzOS4zOTcgMCAzMDBDMy40NDQxNmUtMDYgMjYwLjYwMyA3Ljc1OTc0IDIyMS41OTMgMjIuODM2MiAxODUuMTk1QzM3LjkxMjYgMTQ4Ljc5NyA2MC4wMTA0IDExNS43MjYgODcuODY4IDg3Ljg2NzlDMTE1LjcyNiA2MC4wMTA0IDE0OC43OTcgMzcuOTEyNSAxODUuMTk1IDIyLjgzNjFDMjIxLjU5MyA3Ljc1OTcxIDI2MC42MDQgLTkuODYyNjZlLTA2IDMwMCAwQzMzOS4zOTcgOS44NjI2OGUtMDYgMzc4LjQwNyA3Ljc1OTc1IDQxNC44MDUgMjIuODM2MkM0NTEuMjAzIDM3LjkxMjYgNDg0LjI3NSA2MC4wMTA0IDUxMi4xMzIgODcuODY4TDMwMCAzMDBMODcuODY4IDUxMi4xMzJaIiBmaWxsPSIjMzAzMDMwIi8%2BCjxwYXRoIGQ9Ik0zMzAgNDM1TDIzMCAxODUiIHN0cm9rZT0iIzYxMjM2MSIgc3Ryb2tlLXdpZHRoPSIzMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8%2BCjxwYXRoIGQ9Ik0zMjAgMTg1SDQyME01MjAgMTg1SDQyME00MjAgMTg1VjQzNU0yOTkuNDUxIDQzMy42MjlMMjAwLjkyOCAxODcuMzIxQzIwMC41OTMgMTg2LjQ4MyAxOTkuNDA3IDE4Ni40ODMgMTk5LjA3MiAxODcuMzIxTDEwMC41NDkgNDMzLjYyOUMxMDAuMjg2IDQzNC4yODUgMTAwLjc3IDQzNSAxMDEuNDc3IDQzNUgyOTguNTIzQzI5OS4yMyA0MzUgMjk5LjcxNCA0MzQuMjg1IDI5OS40NTEgNDMzLjYyOVoiIHN0cm9rZT0iIzYwNjA2MCIgc3Ryb2tlLXdpZHRoPSIzMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8%2BCjxwYXRoIGQ9Ik0zMTAgNDE1TDIxMCAxNjUiIHN0cm9rZT0iI0ZGNUNGRiIgc3Ryb2tlLXdpZHRoPSIzMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8%2BCjxwYXRoIGQ9Ik0zMDAgMTY1SDQwME01MDAgMTY1SDQwME00MDAgMTY1VjQxNU0yNzkuNDUxIDQxMy42MjlMMTgwLjkyOCAxNjcuMzIxQzE4MC41OTMgMTY2LjQ4MyAxNzkuNDA3IDE2Ni40ODMgMTc5LjA3MiAxNjcuMzIxTDgwLjU0ODYgNDEzLjYyOUM4MC4yODU4IDQxNC4yODUgODAuNzY5NiA0MTUgODEuNDc3IDQxNUgyNzguNTIzQzI3OS4yMyA0MTUgMjc5LjcxNCA0MTQuMjg1IDI3OS40NTEgNDEzLjYyOVoiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMzIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K%22%3B%0A%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0A%20%20%20%20throw%20new%20Error(%22DeltaTime%20must%20be%20run%20unsandboxed%22)%3B%0A%20%20%7D%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%0A%20%20let%20deltaTime%20%3D%200%3B%0A%20%20let%20previousTime%20%3D%200%3B%0A%0A%20%20vm.runtime.on(%22BEFORE_EXECUTE%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20const%20now%20%3D%20performance.now()%3B%0A%0A%20%20%20%20if%20(previousTime%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%2F%2F%20First%20frame.%20We%20used%20to%20always%20return%200%20here%2C%20but%20that%20can%20break%20projects%20that%0A%20%20%20%20%20%20%2F%2F%20expect%20delta%20time%20to%20always%20be%20non-zero.%20Instead%20we'll%20make%20our%20best%20guess.%0A%20%20%20%20%20%20deltaTime%20%3D%201%20%2F%20vm.runtime.frameLoop.framerate%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20deltaTime%20%3D%20(now%20-%20previousTime)%20%2F%201000%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20previousTime%20%3D%20now%3B%0A%20%20%7D)%3B%0A%0A%20%20class%20Dt%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22dtbyxeroname%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Delta%20Time%22)%2C%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23333333%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23444444%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%23ffffff%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20icon%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22dt%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%20extension%2Fshould-translate%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%CE%94T%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22fps%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%20extension%2Fshould-translate%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22fps%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20dt()%20%7B%0A%20%20%20%20%20%20return%20deltaTime%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20fps()%20%7B%0A%20%20%20%20%20%20return%20%2B(1%20%2F%20deltaTime).toFixed(2)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20Dt())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B"]) {
        vm.extensionManager.loadExtensionURL(extension);
      }

      vm.runtime.isProjectPermissionManagerDisabled = true;
      
    } catch (e) {
      handleError(e);
    }
  </script>
  
  
    <script>
      const getProjectData = (function() {
        const storage = scaffolding.storage;
        storage.onprogress = (total, loaded) => {
          setProgress(interpolate(0.2, 0.98, loaded / total));
        };
        
        storage.addWebStore(
          [
            storage.AssetType.ImageVector,
            storage.AssetType.ImageBitmap,
            storage.AssetType.Sound,
            storage.AssetType.Font
          ].filter(i => i),
          (asset) => new URL('./assets/' + asset.assetId + '.' + asset.dataFormat, location).href
        );
        return () => new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest();
        xhr.onload = () => {
          resolve(xhr.response);
        };
        xhr.onerror = () => {
          if (location.protocol === 'file:') {
            reject(new Error('Zip environment must be used from a website, not from a file URL.'));
          } else {
            reject(new Error('Request to load project data failed.'));
          }
        };
        xhr.onprogress = (e) => {
          if (e.lengthComputable) {
            setProgress(interpolate(0.1, 0.2, e.loaded / e.total));
          }
        };
        xhr.responseType = 'arraybuffer';
        xhr.open('GET', "./assets/project.json");
        xhr.send();
      });
      })();
    </script>
  <script>
    const run = async () => {
      const projectData = await getProjectData();
      await scaffolding.loadProject(projectData);
      setProgress(1);
      loadingScreen.hidden = true;
      if (true) {
        scaffolding.start();
      } else {
        launchScreen.hidden = false;
        launchScreen.addEventListener('click', () => {
          launchScreen.hidden = true;
          scaffolding.start();
        });
        launchScreen.focus();
      }
    };
    run().catch(handleError);
  </script>
</body>
</html>
